<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[蜗牛星际驱动核显，使用 jellyfin 和 qbittorrent]]></title>
    <url>%2F2020%2F06%2Fxingjiwoniu%2F</url>
    <content type="text"><![CDATA[最近入手了一台蜗牛星际，这里记录一些自己踩过的坑。 驱动核显如何替换 lzma 文件需要用到 pe ，这里我用的是 wepe 将pe系统写入U盘，插入蜗牛的usb口，连接键盘鼠标，开机一直按 del 键，进入bios，在最右边选择U盘，进入 pe。 之后打开桌面的 DG ，选中引导所在的硬盘或者U盘（我的话是将引导放在16G的 msata 硬盘里的）。选择分区1，点右边的浏览文件，可以看到里面有两个文件 extra.lzma 和 extra2.lzma 将这两个文件替换为网盘中的那两个即可。 网盘：http://veger.ys168.com/ 可以右键然后选择【复制文件到当前分区】。 然后关机，拔掉 pe U盘，再次进入群晖系统，应该就能驱动核显了。 如何判断已经驱动核显了？用 ssh 连接群晖，输入 ls /dev/dri/ 如果能够看到 renderD128 就是驱动了。 搭建媒体仓库—— jellyfin相比于 plex 和 emby ，jellyfin 的优势是调用硬件转码不用钱。 这里我是使用 docker 来安装的，容器建立时需要有这个命令，才能调用核显 --device=/dev/dri/renderD128 BT下载器——qbittorent用手动安装的 qb ，没法正常在 chrome 浏览器打开，只能在隐身模式下才能打开。所以我采用 docker 的方式来安装。 一开始老是没法设置好 /config 映射到宿主机的文件夹的权限，导致 qb 的 web 界面打开后残缺，而且也没法登录。明明我已经把映射的文件夹权限设置为 everyone 了，还是不行。。。 最后发现最简单的应该是不管 /config 了，只设置 /downloads 的映射就行。就可以正常使用 qb 。 但是，我不喜欢这样的方式，我还是喜欢把 /config 映射到宿主机的文件夹中。所以我采用命令行的方式来建立 docker 容器。 需要先确认文件夹的权限，也可以 chmod -R 777 /xxx 来更改文件夹 xxx 的权限。 如果想要 qb 能连接 ipv6 用户的话，得使用 --network host]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>设备</tag>
        <tag>nas</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[关于咪咕 kindle 打卡版]]></title>
    <url>%2F2020%2F06%2Fmigu-kindle%2F</url>
    <content type="text"><![CDATA[终究还是按捺不住想薅羊毛的欲望，上了白嫖咪咕版 kindle 的车。虽然跟之前的 海信A5、腾讯口袋阅相比，咪咕的要求低了很多，只需要每天阅读 15 分钟，连续 100 天即可。 但是，翻车的几率还是挺大的。为了提高成功率，我做了一些研究。 方法首先我在网上收集了一些图片。 来两张适合全面屏的 1、锁屏壁纸将这些打卡图片设置为锁屏壁纸，这样每次打开手机就能看到。 2、微信聊天背景图还可以设置为微信常聊对象的背景图。 3、打卡群打卡群非常重要，个人认为，建立一个 5-8 个人的微信群，每天打卡完成就到群里报道，如果发现有人晚上 8 点还没打卡，就可以 @ ta 提醒一下。 4、公众号设置提醒公众号 【微定时】可以设置每天定时提醒，我将其置顶，如果当天没有打卡，那个小红点就一直在那里。 5、每天邮件提醒可以利用一个 python 脚本，每天发 Email 给自己，起到提醒作用。 import yagmailyag = yagmail.SMTP(user='xxx@163.com',host='smtp.163.com')contents = ['记得打卡啊，想想你的 468 ']yag.send('xxxxxx@qq.com','签到提醒',contents) 6、使用 autojs 脚本自动翻页用这个感觉还是有可能被软件检测到，虽然现在手机升级到 miui12 了，可以禁止 咪咕阅读 读取手机里的应用列表，不过感觉还是有危险，最好还是不用为好。 其它信息断网能否统计阅读时间刚才测试了一下，在开着飞行模式的状态下看书，能否统计阅读时间？看了十几分钟后，关闭飞行模式，联网。发现时间没有统计。。。然后继续阅读十分钟，再来看统计时间，发现阅读时间变30分钟了。 那看来，断网时也是有统计的，不过显示出来需要一段时间后。所以最好还是保持联网吧。 电量我这台感觉电量还行吧，一天阅读30分钟，十天下来，电量剩 8%，这还是在联网的状态，如果断网应该还能用更久。 系统咪咕应该是用安卓系统，用数据线连接电脑的话，显示的是这样的 而用普通版 kindle 连接电脑，则显示的是像 U盘那样的。 支持什么格式的书？打开咪咕的 WLAN 传书，可以看到 支持文件格式： TXT、EPUB、UMD 所以传入 mobi 格式的书籍是没法用咪咕系统打开的。 希望可以顺利打完卡下车吧，用了一段时间，感觉咪咕的书还行吧，这些天都能找到感兴趣的来看。现在是6月28日，过几天就能正式打卡了，估计很快就能在闲鱼搜到打卡失败的 kindle 低价抛售了。]]></content>
      <tags>
        <tag>随笔</tag>
        <tag>设备</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[关于斐讯 R1 智能音响]]></title>
    <url>%2F2020%2F05%2Fabout-R1%2F</url>
    <content type="text"><![CDATA[前言这款产品是 燕飞利仕 和斐讯合作的产品，应该是2018年推出的。 这是一款智能音响，可以搭配【斐讯ai】这个 app 来使用，不过，由于斐讯后来翻车了，至今也快两年了。所谓智能音响，也就是可以用语音来控制罢了。但是由于斐讯服务器那边不能用（或者说不稳定）。账号现在没法正常注册，看论坛有人说每天 0 点会开放注册一段时间，由于本人 2017 年时就有了斐讯的账号，也没去尝试能否注册。 所以很多人就只能把这音响当普通音响来用，音响开机后按三下顶部的按键，就可以打开蓝牙，之后用手机或者电脑连接，听歌或者听有声小说还是不错的。 问题不过最近我在拼多多买了这台设备，发现斐讯的服务器还是可以连接的嘛，而且网上有大佬修改了 app ，使得现在没有账号的情况下，也能配置音响的网络，使其连接家中的WIFI。修改版APP下载：http://veger.ys168.com/ 但是有些时候，配置网络好了，喊【小讯小讯】，却会提示，未绑定。。。 这时候有两种解决方案一，修改路由器的 dns 将路由器的 DNS 改为 47.240.76.176 二，自定义 hosts 在路由器的 hosts 中添加 118.24.249.189 aios-home.hivoice.cn 在老毛子路由器中 在 openwrt 路由器中 这样做音响才能完成绑定，之后我们就可以使用语音来控制它了。 如果你用的是普通的路由器，那看看哪个地方可以修改 hosts，实在找不到就修改 DNS 吧。 如果你实在太小白，不会修改 dns 和 hosts ，那就放弃语音控制吧，反正作用也不是那么大。还有很多其它的东西可以折腾的。 使用 dlna 享受更好的音质前段时间，在网上看到这样的话 蓝牙连接是sbc，音效很浑浊，发闷。dlan 才能发挥它真正的音质 为了用上 dlna ，我在论坛中找到在 R1 上面安装 dlna 的方法，同样将资源放在网盘中了：http://veger.ys168.com/ 装好后，在电脑中就可以选中歌曲，然后将其推送到 R1 上面播放了。 后来，有网友提示，其它系统也自带有 dlna 的，不过需要蓝牙打开的状态下才可以用。所以我打开蓝牙后，再来右键歌曲，就可以看到有两个 dlna 了。 据说还可以装一个【乐播投屏】也同样有 dlna ，论坛有个帖子分析了各自的优缺点。R1音响三大dlna软件对比 不过这个我自己没用，我最多使用的还是 从n1提取的dlna ，因为这个一直保持开启状态，用起来比较方便。 电脑端 dlna用系统自带的播放器固然方便，但是不怎么好用，只能自己把歌曲添加进去，而且还不支持播放 FLAC 的歌曲。 我想要播放网易云音乐里的歌曲，有没有什么好方法呢？ 那最简单的还是属用蓝牙连接。不过我这里讨论的是 dlna ，那就得用一个第三方软件了，名字是 airfoil ，这是一款付费软件，大家自己网上找吧。在电脑上安装好后，打开时就会搜索你的网络中有哪些 dlna 设备。 下方可以选择那个设备作为音响，点亮其右侧的图标即可。上方可以选择声音来源，可以像上图那样，将整个系统的声音都输出。也可以像下图这样，只选择将网易云音乐的声音输出。 注意 通过 dlna 将声音输出到音响，大概有两秒的延迟，所以……只适合用来听歌，看视频和打游戏是完全没法用的。 手机端 dlna手机这边我一开始只知道小米系统自带的音乐播放器，可以通过 dlna 推送到 R1。不过它有很多缺陷，一次只能播放一首歌，然后就暂停了。而且没法显示播放进度。 然后我想去找其它支持 dlna 播放的 APP ，谷歌商店试了好几个，没好用的。 今天下载了个 咪咕音乐 ，想来听听周杰伦的歌，发现它居然可以把歌曲通过 dlna 推送到 R1 上面，而且切歌之后，播放进度就会同步。非常的意外，不过，它也有缺点，就是有时候没法调节 R1 的音量，有时候却可以…… 后来，我发现，在网易云音乐的设置中，将 dlna 功能打开，也可以把歌曲通过 dlna 推送到 R1 上面。这个应该是现在手机端比较好用的了，可以连续播放，可以同步播放进度，还可以通过手机调节 R1 的音量。 天线由于拆机时不小心，把天线弄断了。 导致音响只有放在路由器旁边才能连接到 WiFi ，蓝牙连接距离只有一米左右……于是到淘宝买了条天线，1块4包邮，买来连接上，满血复活。 由于不知道到底要买哪一款，我就买了几个，最终发现这个【IPEX 1代】在 R1 上用就刚好适合。 相关文章R1音箱 小白入门 和目前现状 这篇文章作者用自己的服务器提供绑定服务。 https://www.cnblogs.com/lome/p/12465328.html#4548078 这篇教自建服务 http://www.mz6.net/news/android/12911.html 另外一个自建服务的帖子 https://www.right.com.cn/forum/thread-3285422-1-1.html]]></content>
      <tags>
        <tag>设备</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[关于 docker 一些事]]></title>
    <url>%2F2020%2F04%2Fabout-docker%2F</url>
    <content type="text"><![CDATA[有些小伙伴反映 armbian 的 docker，按照小钢炮那篇文章的方法，有一些容器老是无法启动成功。在此开一篇帖子记录一下。当然帖子的内容肯定不仅限于 armbian 。 docker 镜像最近公用镜像又抽风了，没事多准备几个吧。 七牛提供的 https://reg-mirror.qiniu.com 阿里云私有镜像加速。（自己进入https://cr.console.aliyun.com/cn-shenzhen/instances/mirrors 用自己的账号登陆，获取属于自己的加速镜像） 得到的格式是这样的：https://xxxxxxxx.mirror.aliyuncs.com/ 关于 qbarmbian 用小钢炮的配置来建立 qb 容器的话，有一堆的问题，这里我改了一些内容，自己试了几次，应该没什么大问题了。使用的是 4.2.1，想用新的可以去 dockerhub 看→传送门 IMAGE_NAME=80x86/qbittorrent:4.2.1-arm64#下面我是将 /media/one 作为下载路径，你自己修改DOWNLOAD_PATH=/media/one/QBT_AUTH_SERVER_ADDR="127.0.0.1"#下面我是将 /media/one/lib/qb 作为配置文件的路径，你自己修改QBCONF=/media/one/lib/qbdocker run -d --name qbittorrent \ -e WEB_PORT=8080 \ -e BT_PORT=8998 \ -e QBT_AUTH_SERVER_ADDR=$QBT_AUTH_SERVER_ADDR \ --restart unless-stopped \ --network host \ -v $QBCONF/.config/qBittorrent:/config \ -v $QBCONF/.local/share/data/qBittorrent:/data \ -v "$DOWNLOAD_PATH":/downloads \ -v "$DOWNLOAD_PATH":"$DOWNLOAD_PATH" \ --mount type=tmpfs,destination=/tmp \ $&#123;IMAGE_NAME&#125; 将上面这堆在终端中输入后，到 portainer 中查看日志。 如果启动成功，最后会出现一个地址，如果不成功，也可以看看具体出现什么问题。 比较常见的问题是，docker 对文件夹没有读写权限。简单粗暴解决方案，给予 777 权限。先在 portainer 中停止 qb 容器，然后在终端执行下面的命令。 chmod 777 -R $QBCONFchmod 777 -R $DOWNLOAD_PATH 然后再去启动容器。按理应该就可以了。]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[最强 shell 非 zsh 莫属]]></title>
    <url>%2F2020%2F03%2Fzsh-note%2F</url>
    <content type="text"><![CDATA[个人比较喜欢 zsh ，特别是自动补全的插件 zsh-autosuggestions ，感觉用了就回不去了。再也无法忍受用以前那些 shell 的各种不便。因此我尽量在常用的设备上安装 zsh ，比如电脑，虚拟机，家里的一堆矿渣设备，国内外的云服务器上。 由于每次的操作都基本一样，所以我之前都是将步骤写在笔记中，用到时就复制粘贴即可。现在将内容整理到博客中，方便有时没法打开笔记，可以通过访问博客来查看。 不同的发行版有不同的包管理工具，安装过程却都差不多，apt install zsh 像这样直接安装即可。 下载 oh my zsh sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)" 可恶的墙，哎，下载不了的使用这个吧 sh -c "$(curl -fsSL https://gitee.com/powersee/ohmyzsh/raw/master/tools/install.sh)" 下载 zsh-autosuggestions 这个插件 git clone git://github.com/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions 不行的话用这行 git clone https://gitee.com/powersee/zsh-autosuggestions.git $ZSH_CUSTOM/plugins/zsh-autosuggestions 编辑 .zshrc 启用插件 vim ~/.zshrc 将 zsh-autosuggestions 添加到插件里，加在 git 后面即可，可以用空格，也可以换行。 然后由于有时连接的设备太多，不太容易分清楚哪一台，所以我喜欢用 ys 这个主题。一般修改第 11 行。 然后对于常用命令，可以用 alias 来自定义，比如找个空白处，写上 alias d="docker" 然后重新读取一下配置文件 source ~/.zshrc 此时输入 d info 就等于 输入 docker info 如果后期配置文件搞得乱七八糟，或者误删了，可以使用这个来恢复成默认 cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[打造最具性价比服务器 N1-armbian]]></title>
    <url>%2F2020%2F03%2Fn1-armbian-server%2F</url>
    <content type="text"><![CDATA[建议搭配视频观看：Youtube bilibili 0、前言之前折腾过把 N1 刷成 armbian 桌面版，斐讯 N1、P1 安装 armbian 变身电脑主机可以当一台小电脑使用。后来觉得我没这个需求，所以就没去用它了。 现在我想把 N1 刷成 armbian 服务器版，不需要桌面环境。因为我觉得，我用小钢炮最主要也是用 docker 和 smb 而已，那这个我用 armbian 也可以实现，而且刷成 armbian 我还可以用 WiFi ，N1 就不需要放在路由器旁边了。 1、写入 U 盘将镜像【Armbian_5.77_Aml-s905_Ubuntu_bionic_default_5.0.2_20190401.img】写入 U 盘，放入 dtb【meson-gxl-s905d-phicomm-n1-xiangsm.dtb】，修改 uEnv.ini，将第一行的dtb 名字改一下。U盘做好了。xiangsm 大佬在恩山上的帖子：https://www.right.com.cn/FORUM/thread-510423-1-1.html 相关文件放在网盘：http://veger.ys168.com/ 的【盒子】文件夹中 armbian和dtb分别是什么来头，我简单说明一下： armbian：直接来源于armbian的官方，armbian其实就是debian发行版为arm架构适配后的版本。也就是说，恩山论坛是没有人去改动armbian系统代码的，是非常可靠的。 dtb：各种品牌的盒子千千万，每个盒子使用的网卡啊、cpu芯片啊的型号千千万，armbian内核为了能够和这些外设正常工作，就要求提供一种叫做dtb的描述文件，我理解就是针对各个硬件的驱动程序。 为了让斐讯N1的各个硬件可以被armbian正常调度，所以需要给斐讯N1适配一套dtb文件。 dtb文件需要随着内核编译，所以不同armbian内核版本必须使用配套的dtb文件。 目前斐讯N1的dtb文件已经被armbian收录到官方源码库里，但是使用的时候linux负载会显示的很高，所以热心网友为armbian5.77编译了一个fix过的dtb文件。 来自：斐讯N1 – 完美刷机Armbian教程 1.5 首次开机需注意第一次启动，用户名 root ，密码 1234 。 登录成功后，会要求你更改密码，但是，但是，但是，需要你先输入当前的密码 （current）UNIX password： 也就是输入 1234，之后才是设置新的密码，要输入两次。 这样改好密码之后，会要求你创建一个新的用户，这里我们可以不用创建的，按 ctrl + c 取消。然后需要再登录一次。 2、启动机器，修改源N1刷入Armbian后换软件源、安装Docker并提速【这篇文章里的源是 debian 的】 斐讯N1折腾记 - Armbian 5.77 刷入与优化【这篇有 ubuntu 和 debian 】我上面用的镜像是 ubuntu 的。 vim /etc/apt/sources.list 进来后，按 dG 就可以把里面所有的内容删除，然后按 i 就可以进入输入模式，将下面的内容粘贴进去即可。 deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic main restricted universe multiverse#deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-security main restricted universe multiverse#deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-security main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-updates main restricted universe multiverse#deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-updates main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-backports main restricted universe multiverse#deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-backports main restricted universe multiverse 改 armbian 源 vim /etc/apt/sources.list.d/armbian.list 将里面的那行注释掉（在前面添加 # ）然后添加这行 deb https://mirrors.tuna.tsinghua.edu.cn/armbian bionic main bionic-utils bionic-desktop 改完这两个后 apt updateapt upgrade 之后我视频中是安装了 zsh ，用这个 shell 会极大提高效率。有兴趣的看另外一篇文章去安装。 最强 shell 非 zsh 莫属 3、安装 docker 与改源其实也可以用 armbian-config 里面的功能来安装。 这里我参考的是这篇教程：N1刷入Armbian后换软件源、安装Docker并提速 curl -fsSL https://get.docker.com -o get-docker.shsh get-docker.sh --mirror Aliyun 使用上述命令安装会调用阿里云的镜像，安装速度较快。 之后修改 docker 镜像源 vi /etc/docker/daemon.json 粘贴下面内容 &#123; "storage-driver": "overlay2", "registry-mirrors": ["https://dockerhub.azk8s.cn"]&#125; 重启 docker systemctl daemon-reloadsystemctl restart docker 安装 portainer docker volume create portainer_datadocker run -d -p 9000:9000 -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data --restart always portainer/portainer 这样我们就可以在浏览器输入 IP:9000 来管理 docker 了。 关于 docker 安装 qb 、filebrowser 之类，可以观看另外一篇文章，大概修改一下即可。 N1 小钢炮系统相关 4、开机自动挂载硬盘之后折腾开机自动挂载硬盘，参考这篇文章：https://blog.csdn.net/buxiaoxindasuile/article/details/49612867 这里我重启后，硬盘的设备名，就从 sdb 变成 sda 了，所以就重新编辑一下 fstab ，之后就可以正常挂载了。 如果还是不行，就改用 uuid 吧。 blkid /dev/sdb1 这条命令可以显示硬盘信息，里面就有 uuid，然后修改 fstab 即可。例如我就是在 fstab 最后添加这行。 UUID=0000678400004823 /media/one ntfs defaults 0 0 5、samba 共享修改 apt 源 和 armbian 源 之后，再输入 armbian-config 就可以安装 samba 了。 也可以用 apt-get install samba 来安装。 关于 samba 的配置，可以看这篇文章：https://wiki.jikexueyuan.com/project/linux/samba.html 这里不要在 armbian-config 里修改，退出后用 vim 编辑 /etc/samba/smb.conf 改完重启一下 /etc/init.d/smbd restart 6、安装我家云固件的导航这时我又想，之前我家云上面的导航好像不错，而且它也是用 armbian 修改的，那我用 N1 应该也可以用这个导航吧。于是根据乘风大佬的这篇文章：https://blog.windtech.cf/index.php/archives/10/ 在 armbian 上装了个导航。 将导航下载后，改名，如 1.zip 然后传到 N1 里面，apt install zip ，装一个 zip ，然后就可以解压这个压缩包。不过最好先把这个压缩包，移动到 /opt 中。也可以一开始就传到 /opt 中。 cd /optunzip 1.zip #会解压出来两个文件./install_navi.sh #执行里面的安装脚本 一分多钟就可以安装完，然后在浏览器输入 N1 的 ip 就可以看到导航了。导航网页的位置在：/opt/wwwroot/navi/ ，可以自己修改里面的 index.php 。像我就自己修改了一些内容。 7、Nginx 开启 ipv6之后我将机器的 ipv6 地址绑定域名后，发现无法访问导航页面。而其它的端口是可以访问的，那难道是 nginx 的问题？查了一下，果然是因为 Nginx 没有开启 ipv6 支持导致的。开启方法如下： vim /opt/etc/nginx/vhost/navi.conf 将 listen 80;改为 listen [::]:80; 之后再重启 Nginx 即可。 /opt/sbin/nginx -s reload 8、用 rsync 备份因为我在 N1 上面搭建了一个 typecho 博客，文件都放在 /docker/typecho 中，为了安全，我想备份 typecho 文件夹到硬盘中，可以用这个命令 rsync -av /docker/typecho /media/one/lib rsync 使用详细可见：https://blog.csdn.net/wangjunjun2008/article/details/38658539 当然这只是手动备份，我想设置它每天自动备份，于是用 crontab -e 进入计划任务编辑，在里面添加这一行 0 2 * * * rsync -av /docker/typecho /media/one/lib 这样每天的凌晨两点，就会自动备份一次。 而且用 rsync 是增量备份，不用担心占太多空间的问题。 9、修改时区在 armbian-config 里面改就行。 10、写入 emmc有些教程说，直接用 nand-sata-install 这个命令，就可以把固件写入 emmc ，这样就不需要把系统刷回安卓。于是我在机器 emmc 里装的是小钢炮系统的情况下，执行这条命令，最后显示写入 emmc 成功。但是我关机，拔掉 U盘再启动，发现并不能启动…… 所以我还是用之前的方法，将机器刷回安卓，再用 adb 让机器从U盘启动。之后将 ./install.sh 将系统写入 emmc 。 这里有一个其他网友的评论 线刷回安卓再u盘重刷armbian绝对是一个干净彻底重装armbian好方法 而且绝对不会出现mac地址重启变化问题。 这里我为什么等到最后才把系统写入 emmc 呢？其实是有这样的考虑的，我现在的系统是在 U盘 中的，它是我一步一步配置好的。如果我不介意的话，是可以一直U盘里的系统的。不过U盘当系统盘会加快U盘的损耗，还是不推荐。 那么它还有另外的作用，就是备份。我现在才把系统写入emmc，之后我就可以脱离U盘使用这个系统了。但是，之后如果因为我的误操作，或者其它的原因，导致系统坏了，或者有些功能不能用了。那么这时，我可以重新插入U盘，再一次将U盘中的系统写入emmc。 然后，可能有人会觉得，这样我的U盘岂不是，不能用来干其它事情了？因为里面存放着一个系统。那有没有什么办法，把里面的系统备份到电脑呢？ 答案是有的。此时将U盘插入电脑，然后再打开【USB image tool】，但是这次我们不是把 img 写入U盘，而是用它，把U盘中的系统，导出为 img 文件。点击右下角的 backup 就可以备份，你的U盘有多大，备份出来的文件就有多大。 那么这样你就可以那U盘去干其它的事情了。而之后如果你有需要，就将刚才的备份的 img 文件，再次写入 U盘即可。 11、中文乱码问题此时在终端中，无法显示和输入中文。解决方案来自 这篇文章) 。 vi /etc/environment 将最后一行改为 LC_ALL="en_US.utf-8" 之后重新连接 ssh 应该就可以了。 12、关于终端中的代理运行 Python 脚本需要依赖一些模块，那么就需要用到 pip apt install python3-pip 然后就可以用 pip3 来安装模块了，比如 pip3 install requests 不过由于国内的网络环境，你不一定能成功装上。这时可能就需要用代理了，如果你的电脑有开小飞机的话，那么可以设置 N1 通过电脑来代理访问。 url=http://192.168.1.2:1080export http_proxy=$url; export https_proxy=$url 假设电脑的 ip 是 192.168.1.2 ，通过执行这两行命令之后，http https 的访问就会通过电脑的代理。例如 pip 安装模块，不用代理我根本没法安装成功，有时候 github clone 也一样，唉~ 不可详讲。。。 相关文件的下载链接放在网盘：http://veger.ys168.com/ 的【盒子】文件夹中。 可能看完又有人要问，哪里可以买 N1 ？那一般就论坛买二手，拼多多买全新。这里分享一下论坛网友买 N1 的心得。 总之想省钱就多上论坛逛逛吧。然后我看有些店，原系统和小钢炮系统居然相差20多块，确实有点坑。不过现在卖的 N1 很多都是黑色版的，不知道区别大不大，要买得先去了解一下。]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>设备</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[内网穿透工具 nps]]></title>
    <url>%2F2020%2F03%2Fabout-nps%2F</url>
    <content type="text"><![CDATA[nps 是一款内网穿透工具，在 Github 上面有一万多个 star ：https://github.com/ehang-io/nps 这个的原理和 frp 是一样的，都是用服务器来中转，不过用起来会简单一点。 要想进行下面的操作，需要有一个服务器，如果你没有的话， 点此链接注册充值 10 美元送 50 美元 服务器端服务器开好后，先下载 nps ，解压，安装，启动。 wget https://github.com/ehang-io/nps/releases/download/v0.26.6/linux_amd64_server.tar.gztar -zxvf linux_amd64_server.tar.gz./nps installnps start 这样服务器就启动 nps 这个服务了，在浏览器输入 ip:8080 就可以进行管理。 客户端像 N1 ，我家云，猫盘 这些设备，都是 arm64 ，因此它的使用方法都是一样的。 wget https://github.com/ehang-io/nps/releases/download/v0.26.6/linux_arm64_client.tar.gztar -zxvf linux_arm64_client.tar.gz 然后需要到管理面板，添加客户端，这样会生成一个密钥。有了这个才能和服务器建立连接。 建立的命令是这样的。 ./npc -server=ip:port -vkey=web界面中显示的密钥 例如我的就是这样 ./npc -server=45.32.126.224:8024 -vkey=4vv7n1p7u584an64 此时就与服务器建立好连接了，之后的操作只需在管理面板，进行端口映射即可。 建立隧道点击左边的【TCP 隧道】，【新增】，填写【ID】，服务器访问端口，目标端口。 比如我服务器端口设置为 1234 ，目标端口为 80 ，建立好后，我只要访问服务器的1234端口，就可以看到内网设备 80 端口的内容。想要访问其它的端口，就再建立隧道。内网的端口和服务器的端口是可以保持一致的。 总结原本以为，它只是用起来比 frp 简单。但现在发现不止于此，还有其它很多功能。 首先作为内网穿透工具，它用起来确实简单，点几下就可以建立好连接。 然后里面的域名解析功能，用起来也非常的简单。事先把 *.xxx.com 解析到服务器，之后就可以实现不同的子域名，访问不同的页面了。 然后我发现，用 nps 也是可以套 CDN 的，这样就不用担心自己的 IP 暴露了，不过速度会变慢一些。]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[猫盘群晖折腾记录]]></title>
    <url>%2F2020%2F03%2Fmaopan%2F</url>
    <content type="text"><![CDATA[最近研究猫盘这台设备，恩山上面谈论这个好像不多。所以我找到了其它几个好去处。 花王网络 矿渣论坛 这两个地方可以学到很多东西，感谢各位大佬的付出。 记录一些教程文章 将猫盘固件从 DS119J 升级为 DS120J 猫盘群辉装qbittorrent和aria2 由于我的机器是卖家帮我刷好群晖系统，再给我发过来的，所以我没有去折腾刷机这些东西。 一、开启LED灯上面的花王网络的博主，写了一个脚本可以控制 LED 灯的颜色，有人把它转载到 什么值得买 上面了。万能的脚本让猫盘变完美 ，通过添加任务计划，我们就可以实现开机后，显示绿灯，关机后显示红灯。（因为猫盘关机只是系统关了而已，风扇其实还是在转的……所以有时不知道机器，是处于开机还是关机状态） 脚本的下载链接是这个 https://www.huakings.cn/mp202003/aw2013_led_syno.sh 本人备份 二、关于掉 ip 的问题这台机器掉 ip 严重。指的是，机器启动后，有时候会获取不到 ip，这个是硬件问题，所以有些设备用得一直很稳，有的就频频掉 ip 。例如论坛中有人说，机器启动五次，只有一次可以获取到 ip 。 我自己的也有这个问题，有时候也获取不到 ip 。解决的方法只有重启，还是获取不到，那就等断电等十分钟，再启动一般就可以获取到了。 三、掉盘机器刚到手时，急切想了解它。于是把 N1 上面的硬盘拆下来，放到里面安装群晖系统。进入系统后发现，硬盘有坏道，时不时地就发出 “ 吱、吱、吱 ” 的异响。再过一会就发现掉盘了，就是硬盘明明连接着，却显示找不到硬盘，重启也没用。而我拿连接电脑却可以识别…… 那估计群晖对硬盘的要求比较高吧，而我这块硬盘已经买了好几年了，而且有坏道，估计它被群晖嫌弃了。没法，就到闲鱼再买一块。 小猫盘只能用 2.5 寸的硬盘，这个在闲鱼比较贵，500G 的要一百块，唉，买不起。最终找了一款 320G 的，59 块包邮。卖家写全新零通电。 买来就可以愉快地使用群晖系统了。下载、共享、备份相册、安装 Python …… 然而第二天就发生悲剧了，开机几分钟后，就会掉盘。硬盘又时不时地就发出 “ 吱、吱、吱 ” 的异响。然而我这硬盘是新买的啊，难到闲鱼卖家坑我？于是我把硬盘拿到电脑扫一下。 发现并没法坏道啊，怎么昨天还好好的，今天就不能用了呢？郁闷。难道这硬盘不够高档，又被群晖嫌弃了？那这群晖系统也太难伺候了吧。 四、九曲十八弯的拯救大行动本打算把系统充 119j 升级 120j ，看看能否解决这个问题。如果不行再试试把系统刷程 one space XP3 ，如果刷成这个系统也有问题，就证明是硬件的问题，估计就没救了。 正当我准备刷机的时候，突然想到，有时候我打开插排的电源，猫盘这个机器并没有启动，风扇并没有转，需要我碰一下猫盘的电线才会转，那难道是电线接触不良的问题？ 于是我把之前淘宝 1.5 包邮买的 USB 转 DC 5.5 拿出来，想用这条线试一下。（之前买这条线是想试一下能否用这来给 N1 供电，结果发现机器的灯会亮，但是无法进入系统。）结果发现，这条线无法插入猫盘……明明可以插入 N1 的…… 不过我还有另外一条线，是淘宝 9.9 包邮买的，叫【诱骗激活线9-12V充电宝移动电源路由器USB供电】，输出12V的，我用这个加我那个12V的小米手机充电头，就可以给 N1 供电，并正常使用，不过这成本太高了。9.9 + 19.9 = 29.8 ，还是老实用斐讯自身的电源适配器吧。 那么这条用不到的线，拿来给猫盘供电，配合猫盘自带的 5V3A 的充电头。就发现机器可以正常使用了。 其实真的很意外的，因为一开始线接触不良，机器是无法启动的，我轻轻碰一下线就可以启动了。但是使用中电线如果接触不良，不应该是整台机器断电吗？怎么只是硬盘异响，然后掉盘而已呢？机器风扇依然转动着，如果不是刚好手上有这台多余的电线，估计我还得为刷机去折腾很久吧。 总结玩矿渣很废时间。 折腾升级 120j群晖的 119j 这台机器，是 256M 内存。我们的猫盘是 512M ，所以有些人觉得，刷 119j 的固件，可能只能用一半的内存而已。而 120j 就和猫盘一样是 512M 的内存，那把固件升级到 120j 是否就可以，发挥猫盘真正的性能呢？ 没升级前，内存最高只能用到 53%，平时大多维持在 48% 于是根据这篇文章：将猫盘固件从 DS119J 升级为 DS120J 升级一下 ，升级后内容不会丢失，可以放心升级。 然后我发现最高能到 60%，但是平时大多也是维持在 48% 所以，我认为升不升级，应该是一样的。原先的 119j 应该是没有限制内存的，因为白群晖本来就是可以升级内存的。 其它 群晖里面的下载器，ds station 是可以用 transdroid 来控制的。 使用 ipv6 来远程访问群晖效果还不错。 moments 来管理相册感觉不习惯，还是 photo station 好。 刚才又把 k2p 拿过来了，然后我就顺便测试一下 smb 的读写速度。 读取在 65 M/S 左右 写入在 7 M/S 左右…… 直接把文件拖浏览器中，也差不多是这个速度，不太懂…… USB 扩展后来又在淘宝买了个USB扩展版，直接套在主板的 TTL 线上面，就可以连接USB设备了。如果长期使用，就得自己把猫盘的后壳打孔了。 东西我拿到手后，插上猫盘带主板，然后接一个U盘，确实可以识别到。但是，一下子就出问题了。一两分钟就断开一次，感觉像是接触不良，检查一下发现我插得挺紧的。问了一下淘宝客服，直接回复，东西接触上能显示，就是能用，要是不能用就是不能用…… 总之也没给出这问题怎么解决，估计他也不知道吧，想想还挺气的，想给他个中评，看他小店只卖出过几样东西，还是于心不忍，算了算了，确认收货等系统自动好评就是了，这东西就当丢了吧。]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>设备</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[我家云设置贴吧自动签到]]></title>
    <url>%2F2020%2F03%2Fwjy-python%2F</url>
    <content type="text"><![CDATA[需要先安装pip 对于 Python3.x 的 apt-get install python3-pip 装好后用 pip3 来装 requests 这个模块 pip3 install requests 之后我们就可以到 github 上面拉取 tieba 签到脚本了。 wget https://raw.githubusercontent.com/powersee/some-scripts/master/baidutieba_signin.py 然后需要填写 cookie ，之后就能用 Python 来运行这个脚本了。 python3 baidutieba_signin.py 一切顺利的话，就看到签到信息了。但是这还不够，我想让它每天自动执行。 crontab -e 之后会让你选择编辑器，默认是使用 nano ，这个比较容易使用。也可以选择第二个 vim 。当然这里选后不喜欢，可以用 select-editor 这个命令来重新选择。 进入编辑器后，在里面添加这一行，就可以在每天的 7 点和 8 点，自动执行这个脚本去签到，然后将输出的信息，保存在 /root/tieba.log 这个文件里。 0 7,8 * * * python3 /root/baidutieba_signin.py &gt;&gt; /root/tieba.log]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>设备</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[我家云相关]]></title>
    <url>%2F2020%2F03%2Fwojiayun%2F</url>
    <content type="text"><![CDATA[介绍我家云，又名掉盘云，众多矿渣中的一款。其配置还算不错，但由于有一个严重的缺点——掉盘，即机器内的硬盘时不时地，就自动断开连接，导致获得【掉盘云】这个荣称。也因此而难以获得垃圾佬们的芳心，二手价格长期维持在百元以下。 不过现今有大佬开发了比较好用的固件，据说很多人解决了掉盘的问题，因此价格开始逐渐上升了。 恩山固件发布贴：粒子云，我家云omv自用备份稳定性佳 固件作者：Ride_Wind，恩山链接 博客：https://blog.windtech.cf/ 刷机相关 这里放置一个刷机所需工具和固件的备份：https://pan.baidu.com/s/1YTlrbDDN9p11CayfaD6vIQ 【webpad】大佬的刷机教程 联想粒子矿云/我家云 线刷OMV（Open Media Vault），图文教程 推荐文章教程：来自 smzdm 的【阿文菌】 我家云 保姆级教程：完美OMV固件 第一次刷机如果只显示【发现一个 loader 设备】，可以点击高级功能，里面可以点【进入 maskrom】 不过我刷机的时候并不知道这个，我是把机器拆开，然后找一根很短的电线，短接主板后面的两个点。 一手按住，一手通电，机器一启动就自动进入 maskrom 了，然后便可以愉快地刷机，这种方法也是终极的救砖方法。 docker相关乘风大佬的固件，本身就修改好 docker 的镜像源了，因此我们可以直接拉取镜像。 portainerdocker volume create portainer_datadocker run -d -p 9000:9000 -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data --restart always portainer/portainer:linux-arm qbittorrent自带的 qb 是 4.1.7 ，它好像有个问题，没法通过链接的方式来下载种子。所以我想把它停了，改用 docker 来创建一个最新版的 qb 。 那么我需要先把自带的 qb 的开机自起取消，这个比较容易，改个名字它就不会启动了。 mv /opt/bin/qbittorrent-nox /opt/bin/1qbittorrent-nox qb最重要的两个文件夹 .config 和 .local ，自带的 qb 是将其放在 /root 里，如果你使用 docker 版的 qb 后，想保留之前的种子信息，下方的 -v 参数自己修改一下。我就不保留了。 IMAGE_NAME=80x86/qbittorrent:4.2.1-arm64#这里我原本的默认下载路径是 /sharedfolders/wjy/ 你应该改成自己的DOWNLOAD_PATH=/sharedfolders/wjy/QBT_AUTH_SERVER_ADDR="127.0.0.1"docker run -d --name qbittorrent \ -e WEB_PORT=8080 \ -e BT_PORT=8998 \ -e QBT_AUTH_SERVER_ADDR=$QBT_AUTH_SERVER_ADDR \ --restart unless-stopped \ --network host \ -v /var/lib/qbittorrent/.config/qBittorrent:/config \ -v /var/lib/qbittorrent/.local/share/data/qBittorrent:/data \ -v "$DOWNLOAD_PATH":/downloads \ -v "$DOWNLOAD_PATH":"$DOWNLOAD_PATH" \ --mount type=tmpfs,destination=/tmp \ $&#123;IMAGE_NAME&#125; 之后可能会出现文件夹权限问题，将会导致 qb 无法启动，给予 777 权限 chmod -R 777 /var/lib/qbittorrent/ 导航相关在web导航页面添加或者删除图标，修改 /opt/wwwroot/navi/index.php 杂七杂八查看 CPU 温度cpu=$(&lt;/sys/class/thermal/thermal_zone0/temp)echo "$((cpu/1000)) c"]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>设备</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[装好 Mojave 之后要做的事]]></title>
    <url>%2F2020%2F03%2FMojave%2F</url>
    <content type="text"><![CDATA[最近越来越觉得 macOS 的 10.15 版本很不好用，刚好手边也有一块闲置的硬盘，于是我想用它装 10.14 的 macOS 。 重新下载镜像，写入 U 盘，修改 config ，重启写入硬盘，完成。由于装过很多次，对此也算是轻车熟路。麻烦的是之后的驱动，以及常用软件的下载。 0，声卡驱动github 下载最新的 applealc ，放入 kexts 里的 other ，把里面的万能声卡移出来。clover configurator 里注入 id，重启完成。 1，调整按键由于使用 macOS 时，最主要用到的按键是 command ，在普通键盘上就是 Windows 键。为了能够和平时一样使用 ctrl + c , ctrl + v 来复制粘贴。可以在【系统偏好设置】–【键盘】–【修饰键…】里面将两者的位置换一下。 2，开启 hidpi如果使用原生的分辨率，字体会非常的小，而且还会模糊。这种情况在 Windows 上面也有，不过 Windows 上我们可以开启屏幕缩放，比如我的 1080P 显示器，我就比较喜欢开启 115% 的缩放。但是在 macOS 上，官方的设定是用 4K 的显示器时，就可以在【系统偏好设置】–【显示器】开启。然而我并没有 4K 的显示器……这时就只能自己来手动开启了。 https://github.com/xzhih/one-key-hidpi 用 GitHub 上的这个脚本很容易就可以开启。（在 Catalina 里面的会复杂一些，因为一些权限的问题）然后，此时在【系统偏好设置】–【显示器】的缩放里面就能看到选项了。但是能选的并不多，这时可以下载一个工具，RDM http://www.pc6.com/mac/441275.html 这个工具提供更多的选择，比如我的显示器是 1920 × 1200 的，在系统里有 1280 × 800 和 1650 × 1050 的选项，但是用这个工具后，我可以选择 1440 × 900 。这个分辨率我个人觉得更加合适。 3，oh my zsh 与 iterm2由于系统本身就自带有 zsh 这个 shell 了，所以我只需要再装一下 oh-my-zsh ，然后在其装好时会询问【是否将 zsh 设置为默认的 shell】，选择是即可。之后安装 iterm2 替代 terminal 。 然后我还可以把之前系统的用户目录下的【.zshrc】和【.zsh_history】复制过来。 4，复制 .ssh 文件夹这个文件夹里存放着私钥，直接复制过来我就可以 ssh 连接其它终端，以及 GitHub 之类。 5，导入 fcpx 的设定主要是自定义的键盘设置，还有 compressor 中的自定义的预设。 暂时写到这……]]></content>
      <tags>
        <tag>mac</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[备份整个 Linux 系统]]></title>
    <url>%2F2020%2F03%2Fbackup%2F</url>
    <content type="text"><![CDATA[近来经常折腾 N1 ，刷机频繁。然后我就想，我能否把现在用的这个系统，整个备份一下呢？就像 Windows 上的 ghost 一样。 接着我就到 恩山 搜一下，果然也有人有过这个想法，并且发帖问了。但是下方的评论看起来好像挺难的。但我记得之前看过用 dd 这个命令就可以，所以我先来试试。 首先要知道当前的机器上有哪些磁盘，用 fdisk -l 可以查出 # fdisk -lDisk /dev/mmcblk0: 7.3 GiB, 7818182656 bytes, 15269888 sectorsUnits: sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk /dev/mmcblk0boot1: 4 MiB, 4194304 bytes, 8192 sectorsUnits: sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk /dev/mmcblk0boot0: 4 MiB, 4194304 bytes, 8192 sectorsUnits: sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk /dev/sda: 465.8 GiB, 500107862016 bytes, 976773168 sectors 可以看出， mmcb1k0 就是机器自身的硬盘，而 sda 则是我自己外接的移动硬盘。 经过了解知道，dd 可以将当前整块磁盘的内容，完整地复制到其它的磁盘。命令如下： dd if=/dev/sda of=/dev/sdb 这样就是把 sda 这块盘的内容复制到 sdb 里 但是平时从网上下载的固件主要是 img 格式的，这种怎么做呢？同样用 dd 就行： dd if=/dev/sda of=/media/one/backup.img 我在 N1 上用的命令是这个： dd if=/dev/mmcblk0 of=/media/one/back.img 等了好久好久，才复制完成，此时在我移动硬盘的根目录下，可以看到一个 back.img 文件。 之前要恢复的话，用这个命令 dd if=/media/one/back.img of=/dev/mmcblk0 在 ubuntu 中将系统dd到 U盘 sudo dd if=/dev/sda of=/dev/sdb conv=noerror,sync^C14583513+0 records in14583513+0 records out7466758656 bytes (7.5 GB, 7.0 GiB) copied, 7048.69 s, 1.1 MB/s 写了两个小时还没好，要去睡觉了，只能 ctrl+c 取消，结果发现只剩 0.5 G还没写。。。 时隔多日，我已经把 N1 刷成了 armbian 无桌面版，配置花了好多时间。所以应该备份一下系统，自己之后把系统搞坏了，也可以用来恢复 于是我同样将系统备份到硬盘，7.3G 用了 40 分钟。 # root @ powersee in ~ [18:40:49] $ dd if=/dev/mmcblk1 of=/media/one/back.img15269888+0 records in15269888+0 records out7818182656 bytes (7.8 GB, 7.3 GiB) copied, 2434.71 s, 3.2 MB/s 之后我把这个 img 文件，复制到电脑，然后用工具将它写入 U盘，之后插到 emmc 里面同样是 armbian 的N1上，结果开机后进入的还是 emmc 里的系统。但是通过 fdisk -l 我发现，boot 分区是在U盘里的。也就是说，N1是从U盘读取启动文件，然后启动 emmc 里面的系统，不知道 emmc 里是其它系统时，是否就能从 U盘启动系统？以后了解了再来更新。 然后觉得用 dd 命令有个大缺点，就是我系统磁盘是 7.3G，那么备份出来的 img 文件就是这么大，明明我系统只占 4G…… 最终方案，我发现对于备份 N1 系统，或许没那么麻烦，因为一开始系统是在U盘里的，所以我可以先对U盘里的系统进行修改，装 docker 、samba 、修改源…… 然后，我可以用 USB image tool ，把U盘中的系统备份到电脑。之后如果我把系统搞坏了，那我可以把系统恢复到U盘，再写入emmc。]]></content>
  </entry>
  <entry>
    <title><![CDATA[进阶了解 hexo 博客]]></title>
    <url>%2F2020%2F02%2Fmore-about-hexo%2F</url>
    <content type="text"><![CDATA[前言个人使用 hexo 搭建博客已经有一年多的时间了。但是说实在，对其了解并不多，我只知道用它，可以把我的 markdown 文档渲染成 html 文件，之后放到 GitHub 上就可以搭建博客。 一开始的使用是看别人的教程，网上一堆人写了用 hexo 来搭建免费博客的文章。其官网 https://hexo.io/zh-cn/ 上面也有教程，几条命令就可以在电脑上弄好一个博客。 之后便是将文章推送到 GitHub 上面，进行设置，使用 GitHub page 建立博客网站。在这时我了解到，我们还可以搭建在国内的网站上面，如 gitee ，coding 。可以让我们的访问速度更快。而且之前还了解到有位老哥有一个不错的方法，可以让国外的 ip 就访问 github 的博客，国内的 ip 就访问 gitee 或者 coding 的博客。好像是利用域名解析来达到目的的，具体我没有去尝试。 备份不像 wordpress ，所有文件都是在服务器上。hexo 的博客源文件都是在我们自己的电脑上面的，如果我们的电脑出问题，如硬盘坏了，被偷了，那么我们的博客就没法更新和修改。因此我们需要自己来备份这些文件。 如果只是想备份文章而已，那么同步网盘如 onedrive 、坚果云 也足够的。当然你想同步整个博客文件夹也可以，不过我不建议这么做，因为里面的文件实在太多了，之前 git push 的时候看到，好像有几万个文件。而且，这样也太 low 了。 正确的备份方法应该是使用 git 来备份。 备份前准备我们得知道我们备份的目的，像我的话，我最主要的目的是备份文章，其次是博客主题，再来是博客的一些配置。目的明确之后，就来分析博客根目录下的文件。 需要备份的 source //文件夹放置着博客文章，最最重要的一个文件夹themes //放置着主题，我个人喜欢一起备份scaffolds //页面模板位置_config.ymlpackage.jsonpackage-lock.json 不需要备份的 .deploy_git //里面的文件除了多一个 .git 其它和 public 里面一样node_modules //在根目录下 npm i 就会读取 package.json 来安装模块，没必要备份public // hexo 生成 html 页面后所放的地方，hexo g 就可以生成，没必要备份db.json //执行 hexo s 启动本地服务器的时候就会自动生成，没必要备份 了解这些之后，我们就可以只备份必要的文件。 以前的备份方案我之前是根据这篇文章 Hexo博客从一台电脑迁移到其他电脑 将博客源文件备份到 GitHub 上面。这个方法是让渲染文件和博客源文件，都放在同一个仓库里面的不同分支。但我个人觉得到不如放两个仓库好。 现在的备份方案首先我们如果想备份主题的话，需要把主题文件夹里的 .git 给删除了，让它变成一个普通的文件夹。比如很多人使用的 next 主题，就进入 themes/next 里面将 .git 文件夹给删除了就行。 在博客根目录下 git init ,让其变成一个 git 仓库。将那些不需要备份的文件和文件夹添加到 .gitignore 中，我的里面有这些内容。 publicdb.json.deploy_git.DS_Storenode_modules 之后 git add . ，再 commit ，然后将其推送到远程仓库即可。之后换电脑，只需把这个仓库 clone 到电脑，进入仓库， npm i 一下，npm 就会根据两个 package 开头的文件，去帮我们安装相对应的模块，之后我们便可以看到 node_modules 文件夹又回来了。此时我们的博客便已搭建成功，可以继续写博客了。]]></content>
      <tags>
        <tag>随笔</tag>
        <tag>WordPress</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[N1 小钢炮系统相关]]></title>
    <url>%2F2020%2F02%2Fabout-N1-nano%2F</url>
    <content type="text"><![CDATA[本文记录一些跟小钢炮系统相关的网址、docker 命令等。 建议搭配视频使用：小钢炮系统使用指南 系统固件下载https://rom.nanodm.net/ docker 国内源编辑配置文件 vi /etc/docker/daemon.json 将里面的内容改为这样 &#123; "storage-driver": "overlay2", "registry-mirrors": ["https://dockerhub.azk8s.cn"]&#125; 改完去 system 里的 Startup 将 docker 停止，再启动。 之后我们安装 docker UI 应该就可以成功了。 filebrowserdocker pull 80x86/filebrowser:arm64 IMAGE_NAME=80x86/filebrowserWEB_PORT=8082FB_AUTH_SERVER_ADDR="127.0.0.1"docker run -d \ -e PUID=$UID \ -e PGID=$GID \ -e WEB_PORT=$WEB_PORT \ -e FB_AUTH_SERVER_ADDR=$FB_AUTH_SERVER_ADDR \ -p $WEB_PORT:$WEB_PORT \ -v /media:/myfiles \ --mount type=tmpfs,destination=/tmp \ $&#123;IMAGE_NAME&#125;:arm64 这个应该大家都可以通用的。 接下来到浏览器打开IP:8082来访问，看看是否能正常使用。 qbittorrent要先停止自带的 qb ，去 system 里的 Startup 将 qbittorrent 停止，然后将 Yes 改为 No ，这样就不会开机自启了。 勘误，视频中讲将S92qbittorrent改个名字，这种方法并不行。得将其移动到其它位置。 cd /etc/init.d/mv S92qbittorrent .. 这样S92qbittorrent就会待在 /etc 这个目录下了。 拉去镜像 docker pull 80x86/qbittorrent:4.2.1-arm64 建立容器 IMAGE_NAME=80x86/qbittorrent:4.2.1-arm64#WEB_PORT=$(nvram get app.qb.listen_port)#这里我原本的默认下载路径是 /media/one/qb 你应该改成自己的DOWNLOAD_PATH=/media/one/qbBT_PORT=$(cat /var/lib/qbittorrent/.config/qBittorrent/qBittorrent.conf | grep -i 'Connection\\PortRangeMin' | cut -d'=' -f2)QBT_AUTH_SERVER_ADDR="127.0.0.1"if [ "$DOWNLOAD_PATH" = "/downloads" ] || [ "$DOWNLOAD_PATH" = "/downloads/" ]; then echo "please set correct DOWNLOAD_PATH" exit -1fidocker run -d --name qbittorrent \ -e PUID=$(id -u qbittorrent) \ -e PGID=$(cat /etc/group | grep -e '^users' | cut -d':' -f3) \ -e WEB_PORT=8088 \ -e BT_PORT=$BT_PORT \ -e QBT_AUTH_SERVER_ADDR=$QBT_AUTH_SERVER_ADDR \ --restart unless-stopped \ --network host \ -v /var/lib/qbittorrent/.config/qBittorrent:/config \ -v /var/lib/qbittorrent/.local/share/data/qBittorrent:/data \ -v "$DOWNLOAD_PATH":/downloads \ -v "$DOWNLOAD_PATH":"$DOWNLOAD_PATH" \ --mount type=tmpfs,destination=/tmp \ $&#123;IMAGE_NAME&#125; 这里的端口我改为 8088 ，也可以改为和原来一样的 8083 之后就可以通过 IP:8088来访问 qb 了。设置没错的话，应该可以看到之前的种子信息的。 微力同步 verysync这是一款和 syncthing 类似的同步工具。/media/one/verysync是我自己的路径，其它人使用前需要更改一下。 docker run -d \ --name verysync \ --restart=always \ -p 8886:8886 \ -v /media/one/verysync:/media \ lstcml/n1_verysync 这个应用的功能是，可以把一个文件夹，在多台设备之间保持内容同步。]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>设备</tag>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[关于服务器资源取回本地的几种方法]]></title>
    <url>%2F2020%2F01%2Fthree-ways-to-retrieve-the-file%2F</url>
    <content type="text"><![CDATA[本文介绍三种我自己都有用过的方法，都是比较简单的。 一、caddy 如同之前的文章所讲到的，安装一个 caddy wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/caddy_install.sh &amp;&amp; chmod +x caddy_install.sh &amp;&amp; bash caddy_install.sh 写入配置 echo ":80 &#123; root /path/to/downloads timeouts none gzip browse &#125;" &gt; /usr/local/caddy/Caddyfile 启动 caddy /etc/init.d/caddy start 开放服务器 80 端口 ufw allow 80 完成后就可以在浏览器里，输入 IP地址 来访问下载好的文件了。如果是 MP4 文件的话，还可以支持在线播放。 二、h5ai 这是一个 PHP 程序，原本它是要求机器本身有 PHP 才能用的，不过现在使用 docker 来安装的话，也可以非常迅速就安装好。 一行命令即可，最简单 docker run -d -p 8055:80 -v /home/tr/download:/h5ai --name h5ai ilemonrain/h5ai:full -d 装好后在浏览器输入 ip:8085 就可以看到里面的内容 三、Python web这个是最简单的，基本所有的服务器都可以，而且不用额外安装其它的程序。只需要在 ssh 时进入到指定的文件夹，然后输入这条命令即可。 python -m SimpleHTTPServer 会默认采用8000端口,此时输入 IP:8000 或者 域名:8000 ，即可访问当前目录下的文件，如果有 index.html 则会默认加载。 然后想要停止时，按CTRL + C 取消。不过这种方法有挺多缺点的，比如不支持断点续传，开启时需一直保持 ssh 连接着，显示的文件信息简陋等。 总结第三种适合于临时下载的，前两种适合长时间的。如果机器本身有装 docker ，那我建议使用第二种。当然第一种也有好处，就是可以绑定指定的域名。 各取所需吧，适合自己的需求的才是最好的。]]></content>
      <tags>
        <tag>服务器</tag>
        <tag>BT</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OMV 安装失败如何卸载]]></title>
    <url>%2F2019%2F12%2Fremove-omv%2F</url>
    <content type="text"><![CDATA[记录在 armbian 上安装 omv 失败的过程。 omv 好像不支持在 Debian bust 上面安装，我直接安装后报错了。然后也没法卸载，并且 apt 也没法用了，一用就会提示E: 软件包 openmediavault-omvextrasorg 需要重新安装，但是我无法找到相应的安装文件。苦恼。 最终解决方法： rm -rf /var/lib/dpkg/info/openmediavault-omvextrasorg* sudo dpkg --remove --force-remove-reinstreq openmediavault-omvextrasorg dpkg: 警告: 由于开启了 --force 选项，以下问题被忽略：dpkg: 警告: 该软件包现在的状态极为不妥；建议您在卸载它之前再重新安装一次(正在读取数据库 ... 系统当前共安装有 112651 个文件和目录。)正在卸载 openmediavault-omvextrasorg (5.1.9) ... 之后再使用 apt 就不会出现问题了。]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[斐讯 N1、P1 安装 armbian 变身电脑主机]]></title>
    <url>%2F2019%2F12%2FN1-armbian%2F</url>
    <content type="text"><![CDATA[斐讯 N1 这台设备，我之前一直是使用小钢炮这个系统。因为它非常强大了，可以下载，可以共享硬盘里的文件，还可以玩 docker。 不过其实这台设备还可以装 Debian 和 Ubuntu 系统的，装好之后就可以变成一台电脑主机了，这想想都兴奋。所以我一直想来尝试一下装 armbian 系统。 镜像下载地址：https://yadi.sk/d/srrtn6kpnsKz2/Linux/ARMBIAN/ 但是，其实我之前折腾过很久，一直没法进入启动界面，一次又一次的放弃。早上突然想到会不会是我的写入工具有问题？ 所以改用另外一个将镜像写入 U盘的工具，再试一下。 结果，还是不行…… 然后仔细看看教程，这篇文章，难不成得先修改 dtb 才可以启动？试一下，果然如此。需要修改 uEnv.ini 这个文件。将第一行的dtb_name后面的文字替换成dtb文件夹里斐讯N1的dtb文件名，保存后再来启动就可以了。 所以跟用什么工具将镜像写入U盘完全没有关系，用 usb-image-tool win32diskimager balenaEtcher …… 都是可以的，主要是修改那个文件之后再开机就行。 之后插入 U盘到机器上，启动，正常进入系统。输入账号 root ，密码 1234 。然后需要设置一个新的密码（至少 8 位数）。 然后需要再建立一个账号，用来登录桌面系统。主要是用户名和密码，其它可以不用填。之后就可以进入桌面。 进入桌面系统后，这就是一台电脑主机了，可以上网，看视频，听音乐，编程…… 但是想要更好地使用它，我们还得进行一系列的配置。想折腾可以耗费不少的时间。 不过，后来我发现恩山有位大佬，直接把他自己修改好的系统打包上传上来，这样我们就可以直接使用他的系统，不用自己去配置了。帖子链接 帖子里有百度网盘的链接，里面主要有三个版本，32G 16G 8G ，指的是用这个系统 U盘最少的容量，如果你 U盘大于或等于 32G，那三个版本都可以用。 16G 镜像下载下来只有八百多兆，因为里面的软件最少，没有 docker 这些软件。8G 的比较好，安装好了 docker，并且容量适中，3G 多。32G 版本我没有下。 而且，用官方系统会出现没有 WiFi 的问题，这个帖子 有讲到，看来用比较老的系统就可以用 WiFi。而使用恩山大佬打包的系统可以使用 WiFi 👍 所以我个人的建议是直接使用打包的系统。 配置不管是使用原生的系统，还是打包的系统，都需要进行下面的配置。 改源默认的软件源可以连接到，但是慢到怀疑人生。把它改为国内的源，这样我们安装或更新软件会快很多。 改软件源 文章链接 vim /etc/apt/sources.list deb http://mirrors.ustc.edu.cn/debian stretch main contrib non-freedeb http://mirrors.ustc.edu.cn/debian stretch-updates main contrib non-freedeb http://mirrors.ustc.edu.cn/debian stretch-backports main contrib non-freedeb http://mirrors.ustc.edu.cn/debian-security/ stretch/updates main contrib non-free 改 armbian 源 vim /etc/apt/sources.list.d/armbian.list 将里面的那行注释掉（在前面添加 # ）然后添加这行 deb https://mirrors.tuna.tsinghua.edu.cn/armbian stretch main stretch-utils stretch-desktop]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>设备</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[使用 syncthing 同步多台设备的文件]]></title>
    <url>%2F2019%2F11%2Fsyncthing-better%2F</url>
    <content type="text"><![CDATA[又来折腾 syncthing 了，毕竟买了个 10T 的大硬盘，得好好利用起来才行。 syncthing 是一个跨平台、开源的数据同步工具。它可以让你的文件夹，在多台设备保持同步。 Syncthing 支持平台Syncthing 官方支持 Linux、Windows、OS X、FreeBSD、Solaris 等系统，并且有第三方的 iOS、Android 应用。 所以利用它，我可以让我手机（Android）的文件，同步到电脑（macOS，Windows）。同时它还可以在 Linux 上用，所以我可以把文件同步到服务器上，也可以同步到刷了小钢炮系统的斐讯 N1 上（系统自带 syncthing）。甚至我可以这些设备全部都使用，确保我的某个文件夹，同步到所有的设备上。（虽然现在没有重要到这样的文件……） 总之，它是一款很强大的软件，并且还免费开源，很了不起。其实我一年半之前就折腾过了 之前的文章 ，不过说来惭愧，当时折腾了一阵子，就没有再使用它了。因为当时的版本是 0.14 ，很多功能还不完善，并且在 Mac 上面，要使用只能二进制执行文件，并没有做出一个 app ，感觉不太方便。不过我的手机上面一直都有保留着它，即使不怎么使用了。 现在的变化时间过去这么久，这个应用现在更新了很多次，变得越来越好用了。例如： 有 docker 版本，Linux 上安装起来更加方便 Windows 和 macOS 都有了 GUI 版本，使用门槛降低 同步的时候可以选择 仅发送，（而不接收，可以防止对方误操作而导致己方的文件也丢失） 可能其它的功能我还没有用到，所以并不能更好地体验这个应用，不过就上面这几点，我就挺满意了。 开始安装在其官网： syncthing.net 上面可以看到下载链接，不过都是放在 GitHub 上的，可能得用代理才能下载。 Windows tray utility, filesystem watcher &amp; launcher: SyncTrayzor macOS application bundle: syncthing-macos Cross-platform GUI wrapper: Syncthing-GTK 安卓手机可以去 Google play 搜索。 我这里主要介绍用 docker 将它装在服务器上面。 docker run \ --name=syncthing \ -e PUID=1000 \ -e PGID=1000 \ -e TZ=Asia/Shanghai \ -e UMASK_SET=022 \ -p 8384:8384 \ -p 22000:22000 \ -p 21027:21027/udp \ -v /home/syncthing/appdata/config:/config \ -v /home/syncthing/data1:/data1 \ -v /home/syncthing/data2:/data2 \ --restart unless-stopped \ linuxserver/syncthing 这里开放的 webUI 端口为 8384，所以启动成功后到浏览器输入 IP:8384 即可进入管理界面。因为我们是在服务器上使用，一定要设置用户，不然别人随便输入你的 IP:8384 就可以来管理你的设备了，很不安全。如果是在家里使用的话，例如群晖，或者和我一样使用 小钢炮 ，那不用设置也没多大问题。 添加用户这里的添加用户，可以理解成和微信的添加好友相似。两台设备需要添加好友了才能互相发送文件，而要添加可以使用 二维码 ，也可以使用 ID 。这里我以服务器作为被添加的设备。 点击右上角的 【操作】➡️【显示 ID 】即可看到。如果手机想添加这台设备，打开应用后，向左滑来到设备这里，点右上角的 ➕ ，然后点击二维码就可以扫码了。如果是电脑，就只能用 ID 的方式来添加了。点右下角的【添加远程设备】然后输入服务器的 ID 即可。 同步文件这里我以手机文件同步到服务器为例。在手机上向右滑来到左边的 文件夹 这里。点击右上角的 ➕ 。文件夹标签可以随便起，目录选择要同步的文件夹，要同步到哪台设备，就把那台设备的开关打开。这样手机端的设置就完成了。 然后过一会服务器的就会收到通知，我们可以在浏览器的 webUI 里看到，提示某某人分享一个某某文件夹给你，是否接受。接受时可以设置要把这个文件夹放在哪里。 这样设置好后，就只需要等待了，手机会慢慢地把文件上传到服务器里。因为这个应用是使用 端–端 加密的，所以不用怕被中间人知道你在传输什么，不过可能也是因为这个原因吧，感觉传输的速度不是那么快，最高好像只能达到 2M/s 。 当然这个过程也是可以反过来的，把服务器的文件同步到手机上。 我本来是打算尝试一下，把服务器里 qbittorrent 下载好的文件，利用这个应用取回手机。但是，速度实在太慢了，虽然最大时能有 2M/s ，但是大部分时间都是几百 k 的速度。如果设置成服务器下载完，让它同步到我的小钢炮里面就还行，毕竟两台设备都是 24 小时开机。但是手机就没必要了，非要把文件取回手机，我还是选择开启一个临时的 HTTP 服务。 暂时我的使用方案我目前的使用有两个 把手机的微信下载内容，同步到小钢炮。 把手机里用 vue 这个软件拍的视频，同步到电脑（用于在电脑剪辑） 以后想到其它玩法再来更新。]]></content>
      <tags>
        <tag>服务器</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[nds 游戏存档导入到电脑的模拟器玩]]></title>
    <url>%2F2019%2F11%2Fnds2desmume%2F</url>
    <content type="text"><![CDATA[我有这么个需求，之前在 nds 上面用 R4 卡玩的游戏存档，想把它复制到电脑上，然后在电脑上用模拟器继承存档，继续玩之前的进度。但它并不是直接复制过来就可以用的。 用 desmume 这个 nds 游戏模拟器，它在游戏中正常保存后的存档格式为 .dsv 而用 nds 加 R4 卡来玩游戏，正常保存后，存档文件的后缀为 .SAV 这样就没法这边打完，就把存档复制到那边，然后继续玩。 不过现在（其实应该是好几年前了）模拟器已经支持把 .SAV 文件导入模拟器了。有一个选项，可以导入 sav 格式的存档，然后把它转换为 dsv 格式。 把 nds 的存档复制到模拟器上用在菜单里面可以导入存档（import开头的），然后选择sav格式的存档，导入之后将会被转换为 dsv 格式的存档。 在mac中导入是这样的在win中导入是这样的 但是，问题来了，我一开始是在 mac 上用的，导入是成功了，但是游戏中存档位置是空的。百思不得其解，最终我决定到 windows 上试一下。 果然，只有 windows 版的才行，导入后会跳出一个选项，问要转换为什么类型，我就直接选默认的第一个，就成功在游戏中看到存档了。 而在 mac 里，导入时并没有这些选择，所以导入后也识别不到，暂时无解。非要在 mac 上玩的话，就只能先在 windows 里导入，再导出（或者复制出 dsv 文件），再把这个 dsv 文件复制到 mac 上面用。 模拟器的存档复制到 nds 上用刚才游戏中有个地方需要多次尝试，用模拟器的快速存档和读档会比较快。所以我把存档复制到电脑上，导入后游玩，用读取大法很快就过了关卡。 然后我不想一直在电脑用模拟器玩，所以想把存档导出， 复制到 nds 上玩。这个就没什么难度了。选择 Export Rom Save File 然后选择 sav 格式。导出并复制到 nds 的内存卡上即可。]]></content>
      <tags>
        <tag>游戏</tag>
        <tag>设备</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[即使是使用 ipv6 也最好做好防范，ip6tables 与 ss]]></title>
    <url>%2F2019%2F11%2Fip6tables-and-ss%2F</url>
    <content type="text"><![CDATA[最近看到好多个人，因为开放群晖的端口号，导致宽带被封，运营商给出的原因是：未备案个人宽带不允许提供 web 服务…… 这里有一个案例：重要消息：上海电信对于绑定域名用于WEB服务的 直接封宽带 所以现在哪怕我只是开放给自己使用而已，也不行了。其实之前也是不允许的，不过运营商会把 80 端口和 443 端口给封了，这样我们就无法在家里搭建网站了。不过严格来讲还是可以的，只不过得在域名后面加个端口号，例如这样 www.baidu.com:12345 但是现在这种也不允许了，而且一经发现，直接封了你的宽带。除非你自己去电信询问，否则都不知道为什么封的。没错，现在只有电信会封，而且看网友的讨论，好像只有 上海、深圳 这两个地方的电信宽带才会。 那么我是用 移动宽带 的，我需要担心吗？之前我是觉得不需要担心的，毕竟等网上别人出事的时候，我在网上看到别人的帖子，我再来开启防火墙就行了。 然而，我又一想，我怎么知道我不会是，移动用户中第一批遭殃的呢？所以我赶紧又打开我路由器的防火墙。 但我还是想享受外网访问的便捷性，所以我得来想想对策。 之前的我之前的话，是直接关闭防火墙，这样我就可以通过 ipv6 ，在外面访问宿舍的设备，主要有： 进入路由器查看一下情况 访问刷了小钢炮系统的斐讯 N1 盒子，查看系统的负载，管理里面 qbittorrent 的下载 有时候电脑用虚拟机开着一台 Ubuntu 服务器，需要外网 ssh 连接 所以这上面三台主机里面，我都有运行 ddns 脚本，让它们把自身的 ipv6 地址与我在阿里云申请的域名进行绑定。这样我就可以通过三个不同的域名访问这些主机。但是也麻烦，再添加机器我就得再去添加脚本，并且记住域名，所以我更改了方案。 现在的我直接开启 padavan 系统的路由器里面的 ss_server ，之后我在外面要访问内网的设备时，就用 ss 连接我的路由器，这时就相当于把它当 VPN 来使用。我想要管理路由器，可以直接在浏览器输入 192.168.123.1 而不用去输入域名，管理其它设备也一样，直接输入局域网 IP 即可。 但是，这一切，还是建立在我把防火墙关闭了的情景下，这样我的宽带还是有被封的风险。我想要开启防火墙，但同时我还可以连接到内网的设备。所以，我了解了一下 ip6tables ，这个是管理 ipv6 的防火墙软件，详情可以看这里 ip6tables详细使用说明 但我用到不多，现在外界访问只通过一个端口，就是 ss_server 开放的那个端口，默认为 8388 ，所以我只需要开放这个端口即可。需要做的，是通过 ssh 连接路由器，或者直接在 高级设置，系统管理，控制台 输入这 3 条命令。 ip6tables -A FORWARD -p tcp --dport 8388 -j ACCEPTip6tables -A INPUT -p tcp --dport 8388 -j ACCEPTip6tables -A OUTPUT -p tcp --dport 8388 -j ACCEPT 这样外网就只能通过 8388 这个端口来访问内网，而且只能用 ss 连接才行，直接在浏览器输入我 IP 加 8388 肯定不行，因为我根本没有开启 web 服务。所以应该是不会有宽带被封的风险。 但是这样有一个问题，就是当我路由器重启之后，就失效了，只能重新到控制台再输入一次。能否让它开机后自动执行呢？ 可以的，需要到【高级设置】——【自定义设置】——【脚本】里添加。由于我使用的是 hiboy 大佬修改的 padavan 系统，所以里面有好几个脚本。如果是其他人的固件估计没这个功能。 那么这里我可以把上面的三条命令，放在【在路由器启动后执行】这个脚本里，也可以放在【在防火墙规则启动后执行】里。我个人是选择后者。 将命令粘贴进去后，点击下方的【应用本页设置】即可。这样以后重启路由器后，就会自动执行这三条命令。]]></content>
  </entry>
  <entry>
    <title><![CDATA[如何让 qBittorrent 在 Linux 上连接更多的 tracker]]></title>
    <url>%2F2019%2F11%2Fqb-more-tracker%2F</url>
    <content type="text"><![CDATA[对于 Linux 上的 qBittorrent，它不同于我们在 Windows 和 Mac 上的桌面版，我们只能通过 web 来管理，基本的功能都一样，但是有一个问题比较麻烦，就是无法打开高级设置里的【总是向所有等级的 Tracker 汇报】。 ❗️❗️注意，qb 4.2 以及之后的版本，webUI 已经可以管理高级设置了，所以想简单的，可以升级版本即可。我个人的建议也是直接升级即可，不过如果因为有特殊原因没法升级，可以继续看下面的方法折腾。 这对于我们下载 BT 任务，影响就比较大了。 但是在研究一番之后，我还是成功的开启了这个功能。 我的思路是这样的，Linux 上的 qb，它有一个配置文件：qBittorrent.conf ，我通过修改这个文件，应该也是可以开启这个功能的。但是，我不知道添加什么语句，才能开启。所以我想到看一下我电脑的 qb 配置文件，来参考一下。 那么我先查看一下我 Mac 上的配置文件：qBittorrent.ini ，它在用户目录下的隐藏文件夹.config里面，在这个文件里面，我找到了这一句 Advanced\AnnounceToAllTrackers=true 它是放在 [Preferences]下面的，那么按理，我在 Linux 上也添加这一句，就可以开启这个功能了。 Linux 上可能不同的发行版本，它配置文件的位置有可能不同，想我的 N1 小钢炮，它的配置文件是在这的： /var/lib/qbittorrent/.config/qBittorrent/qBittorrent.conf 而我之前用脚本安装的 qb ，它的配置文件是在 home 目录下的某个位置，而如果在 docker 上面，它在容器中的位置可能也不一样吧。所以如果找不到，可以全局搜索一下： find / -name qBittorrent.conf 找到之后，用 vim 编辑这个文件，添加 Advanced\AnnounceToAllTrackers=true 保存，重启 qb（不会的话就重启机器） 然后就成功了，此时 qb 在下 BT 任务时，就可以连接多个 tracker 了。]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>下载</tag>
        <tag>BT</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[关于玩客云的一些资料]]></title>
    <url>%2F2019%2F10%2Fabout-wankeyun%2F</url>
    <content type="text"><![CDATA[玩客云能做什么？1、下载迅雷可以下载的内容。2、当私人网盘来使用，出门在外时，也可访问家中硬盘中的文件。 那它有什么缺点？最大的缺点是，会不停往硬盘存东西。因此会加大硬盘损耗，以及占用带宽。 下面是关于玩客云，个人收集的一些资料。 问：现在入手什么版本最好啊？（这个是几个月前的回答了，现在没什么用，一律买最便宜的就行） 看你的用途吧。。。想要挖矿的就去买开了挖矿的，不需要挖矿、只想下载和当网盘用的买退出挖矿的或者未拆封的，要刷机或者装组件(如transmission、apache、nginx、php、mysql等)玩的买root的。 之前买了一个全新未拆封的，没有开通链克计划，硬盘是可以休眠的 玩客云限制上传的方法（最好电脑上操作） 1、显示隐藏的文件，看到一个.onething_data的文件夹，删除了。 2、打开记事本，什么都不需要，直接另存为—保存类型选择为所有文件，文件名为.onething_data 丢到玩客云硬盘的根目录上，设置为只读的属性，完事。 反正我这么搞，不会上班，远程访问也没毛病，一天还有0.几个蛋。大不了被绝育，能下载，能当家庭云用就行！ 很多人不满玩客云一直读写硬盘的这种行为，于是申请退出玩客链计划，当时想退出却没那么容易。因为迅雷要求你必须手持身份证，拍一张照片给他们，才愿意帮你退出计划。这想想还是挺可怕，谁知道照片会被拿去干什么事啊。但是在 张大妈 有这样一个有趣的例子。 与客服互怼成功拒绝提供身份证 https://post.smzdm.com/p/az59706n/ 同时这上面还有一篇非常详细的评测 https://post.smzdm.com/p/aw3np922/ B 站上面也有教 不让其不停读取硬盘的四种方案（https://www.bilibili.com/video/av53589623） ① .onething_data文件夹封闭 具体操作看之前视频 ② 发邮件退出玩客云奖励计划 ③ 用闲置U盘或TF卡做主盘避免写入机械硬盘 ④ 不用时弹出硬盘 使用时远程重启 用 Linux 禁止其读写的方法：（此方法本人测试无效，因为玩客云根本不能识别 ext4 格式的硬盘） 直接第一种覆盖就行 而且他不会改回来 但是需要把硬盘搞成ext4 同时设置该文件的用户组为root 再修改文件属性不可修改 以上操作在linux下进行 挂载到电脑的方法： Win + r 输入 //ip 我个人对于这台设备的评价我认为，对于下载，有这台设备还是不错的，因为它让我们在没有迅雷会员的情况下，也可以高速下载。当然前提是你下载的资源迅雷的服务器里面有。不过随着现在版权管理越来越严，迅雷能下载的东西也越来越少了。 对于当私人云盘，我看有人专门买两台这个来当私人云盘，不过买的硬盘盒都比机器贵。我个人是不会把手机的图片、视频放这的，不太敢，也没必要。 所以这台机器对我确实没多大用处，大多数情况下都是出于吃灰状态。不过也无所谓了，五六十块钱的东西，买来折腾折腾过过瘾也就值得了。]]></content>
  </entry>
  <entry>
    <title><![CDATA[小钢炮又被折腾坏记录，最终成功用上 zsh]]></title>
    <url>%2F2019%2F10%2Fnano-zsh%2F</url>
    <content type="text"><![CDATA[刚才给小钢炮安装了 zsh ，这个过程还是有点复杂的，不过好在都能找到教程。 1、先去看灯大的这个文章https://gitee.com/8ox86/phicomm-n1-issue/wikis/entware%20guide?sort_id=1368793 让我们可以用 opkg2 来安装其它应用 2、安装 zsh 与配置集于是我就安装了 zsh 以及 oh my zsh 为的就是用这个自动补全插件 zsh-autosuggestions opkg2 install zsh sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)" git clone git://github.com/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions 3、遇坑部分，无法 ssh 连接顺利地安装成功了，然后，我想将 zsh 设置为默认的 shell ，使用 chsh -s /opt/bin/zsh 却失败了。 然后网上找其它方法，看到有个是修改 /etc/passwd 这个文件，第一行就是 root 用户的默认 shell 路径，于是用 vim 修改这个文件，改为 zsh 的路径，然后退出，再重新 ssh 连接，就登录不了了…… 本想这次扑街了，又得重装系统了，可惜 qb 的配置没有备份…… 4、想办法备份于是想办法看看能不能备份出来，不然重装系统后所有记录都没了。想到 qb 的配置文件是放在 /var/lib/qbittorrent 这个文件夹里的，之前我是 ssh 之后，把复制到自己的硬盘的。现在无法 ssh，得另寻方法。 于是想到小钢炮的 web 界面有个定时任务的功能 Scheduled Tasks ，在这个我也可以执行命令啊，那我在这里备份这个文件夹不就行了。 同时灯大的 wiki 里也有写备份 qb 和 tr 的方法，他是用 tar 来打包这个文件夹的，这种可能更好吧。 于是我添加了这条任务，每十五分钟就将这两个文件夹打包备份到我这个叫 one 的硬盘里。 15 * * * * tar cvf /media/one/qb.tar /var/lib/qbittorrent &amp;&amp; tar cvf /media/one/tr.tar /var/lib/transmission 5、曲线救国所以这样打包好后，就可以重装系统了嘛。不过我突然想到，既然这里可以执行命令，那我在这里修改 passwd 这个文件，改回去不就行了？ 于是我将 passwd 这个文件的内容，输出到硬盘里 cat /etc/passwd &gt; /media/one/pass.txt 接着我用 filebrowser 修改这个文档里面的内容，再把它输入回 passwd cat /media/one/pass.txt &gt; /etc/passwd 完成，再来 ssh ，就成功登录上了。 但是我的 zsh 还是没办法设置为默认 shell …… 怎么办呢？ 6、用上 zsh我想到，当我们用 ssh 连接上小钢炮的 sh 时，它会去执行 /etc/prifile 这个文件里面的内容，那我直接在这里面添加一行 zsh 我将它放在环境变量之后，在 13 行这个位置。这样之后用 ssh 连接，系统就会先启动 sh ，然后读取 /etc/prifile 的内容，读到 13 行，执行了 zsh 这个命令，然后 shell 就自动切换到 zsh 了。 由于这个过程很快，我们不可能看到，所以一连接上看到的就是 zsh 了。完美！]]></content>
  </entry>
  <entry>
    <title><![CDATA[小米手机免 root 去除广告以及卸载系统应用]]></title>
    <url>%2F2019%2F09%2FMIUI-adb%2F</url>
    <content type="text"><![CDATA[本文需在电脑上进行。 手机打开 USB 调试以及 USB 调试（安全模式） 下载 ADB 工具http://veger.ys168.com/在电脑软件这个文件夹里 解压后把三个文件，解压到 C:\Windows\里面 安装小米刷机工具（安装手机驱动）http://bigota.d.miui.com/tools/MiFlash2018-5-28-0.zip 电脑打开 cmd删除应用的 ADB 命令是：adb shell pm uninstall --user 0 应用包名 （MIUI 9、MIUI 10 测试删除后能正常开机使用）adb shell pm uninstall --user 0 com.miui.systemAdSolution （小米系统广告解决方案 必删） adb shell pm uninstall --user 0 com.miui.analytics （小米广告分析，必删） adb shell pm uninstall --user 0 com.xiaomi.gamecenter.sdk.service （小米游戏中心服务） adb shell pm uninstall --user 0 com.xiaomi.gamecenter （小米游戏中心） adb shell pm uninstall --user 0 com.sohu.inputmethod.sogou.xiaomi （搜狗输入法） adb shell pm uninstall --user 0 com.miui.player （小米音乐） adb shell pm uninstall --user 0 com.miui.video （小米视频） adb shell pm uninstall --user 0 com.miui.notes （小米便签） adb shell pm uninstall --user 0 com.miui.translation.youdao （有道翻译） adb shell pm uninstall --user 0 com.miui.translation.kingsoft （金山翻译） adb shell pm uninstall --user 0 com.android.email （邮件） adb shell pm uninstall --user 0 com.xiaomi.scanner （小米扫描） adb shell pm uninstall --user 0 com.miui.hybrid （混合器） adb shell pm uninstall --user 0 com.miui.bugreport （bug 反馈） adb shell pm uninstall --user 0 com.milink.service （米连服务） adb shell pm uninstall --user 0 com.android.browser （浏览器） adb shell pm uninstall --user 0 com.miui.gallery （相册） adb shell pm uninstall --user 0 com.miui.yellowpage （黄页） adb shell pm uninstall --user 0 com.xiaomi.midrop （小米快传） adb shell pm uninstall --user 0 com.miui.virtualsim （小米虚拟器） adb shell pm uninstall --user 0 com.xiaomi.payment （小米支付） adb shell pm uninstall --user 0 com.mipay.wallet （小米钱包） adb shell pm uninstall --user 0 com.android.soundrecorder （录音机） adb shell pm uninstall --user 0 com.miui.screenrecorder （屏幕录制） adb shell pm uninstall --user 0 com.android.wallpaper （壁纸） adb shell pm uninstall --user 0 com.miui.voiceassist （语音助手） adb shell pm uninstall --user 0 com.miui.fm （收音机） adb shell pm uninstall --user 0 com.miui.touchassistant （悬浮球） adb shell pm uninstall --user 0 com.android.cellbroadcastreceiver （小米广播） adb shell pm uninstall --user 0 com.xiaomi.mitunes （小米助手） adb shell pm uninstall --user 0 com.xiaomi.pass （小米卡包） adb shell pm uninstall --user 0 com.android.thememanager （个性主题管理） adb shell pm uninstall --user 0 com.android.wallpaper （动态壁纸） adb shell pm uninstall --user 0 com.android.wallpaper.livepicker （动态壁纸获取） adb shell pm uninstall --user 0 com.miui.klo.bugreport （KLO bug 反馈） 前面两个是 MIUI 系统支撑广告及精准化推送的应用，应第一时间删除，删除后不会出现无法开机的情况。这样 MIUI 系统的广告就会少很多——没有验证是否完全屏蔽。 【警告】以下系统自带应用删除后必定无法正常开机（来自网络），请避免误删： com.miui.cloudservice （小米云服务） com.xiaomi.account （小米账户） com.miui.cloudbackup （云备份） com.xiaomi.market （应用市场）]]></content>
  </entry>
  <entry>
    <title><![CDATA[服务器搭建全能下载器 Aria2 以及私人网盘，只需一行命令（docker）]]></title>
    <url>%2F2019%2F09%2Fdocker-aria2%2F</url>
    <content type="text"><![CDATA[本文将利用 docker 一键安装 Aria2 和 filebrowser。 建议搭配之前的文章来观看：用服务器来离线下载 BT 种子，体验千兆网络的魅力 项目 GitHub 地址 安装 docker(如果机器没有的话）curl -sSL https://get.docker.com/ | sh 最快速启动docker run -d --name aria2-ui -v /home/down:/data -p 80:80 wahyd4/aria2-ui Aria2: http://yourip/ui/ FileManger: http://yourip 请使用 admin/admin 进行登录 这样下载的文件都放在 /home/down 这个文件夹里面 文件夹没有写入权限，有兴趣看这篇文章了解 文章链接不管原理，无脑给予 777 chmod 777 /home/down 强制删除容器 docker rm -f aria2-ui 加密下载界面docker run -d --name ariang \ -p 80:80 \ -e PUID=1000 \ -e PGID=1000 \ -e ENABLE_AUTH=true \ -e RPC_SECRET=Hello \ -e ARIA2_SSL=false \ -e ARIA2_USER=user \ -e ARIA2_PWD=pwd \ -v /home/down:/data \ wahyd4/aria2-ui 用户名：user 密码：pwd 后续补充根据个人的需求来选择，如果觉得不需要加密 Aria2 的管理界面的，其实用第一种方式就行了。非常简单，一行命令即可。 同时也可以结合 APP ：Transdrone_2.5.15.apk 来使用，这个我放在网盘里，使用它来管理多个下载工具也是比较方便的。 http://veger.ys168.com/]]></content>
      <tags>
        <tag>docker</tag>
        <tag>下载</tag>
        <tag>BT</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[BT挂机利器 transmission docker 安装法]]></title>
    <url>%2F2019%2F09%2Ftransmission-docker%2F</url>
    <content type="text"><![CDATA[本文主要介绍如何在服务器上安装 docker，并安装 transmission 来下载 BT 种子任务。并且取回本地。 要想进行下面的操作，需要有一个服务器，如果你没有的话， 点此链接注册充值 10 美元送 50 美元送的 50美元只有一个月的有效期。（所以不要省，开贵点的机器吧） 上次已经用 docker 安装了 qbittorrent，这是一个非常强大的 BT 软件，我个人是非常喜欢的。但是，它占的内存比较大，如果服务器还要做一些其它的工作，用这个可能就不太合适了。 于是， transmission 是一个不错的选择。它对硬件的配置要求非常的低，甚至在路由器上面都可以运行。 这次使用一台纯净系统的服务器来装。 安装 dockercurl -sSL https://get.docker.com/ | sh 安装 transmissiondocker run -d \--restart=always \--name transmission \-v /home/tr/torrents:/to_download \-v /home/tr/download:/output \-p 9091:9091 \-p 51413:51413 \-e USERNAME=admin \-e PASSWORD=admin \jaymoulin/transmission 解释输入 IP:9091 即可进入 transmission 的管理界面 由于未知原因，现在创建好 transmission 这个容器之后，在输入用户名和密码那里，会一直被卡住，点登录之后还是让你再输入，完全无法进入…… 这不是最重要的问题，问题是，我发现我输入账户密码后，无法进入界面。然而，我直接什么都不输入，按回车，却可以进入……为了确认，我还专门有手机流量试一下，发现确实，什么都不输入就可以进入……所以看重安全的朋友还是不要用这个 transmission 容器了。 下载后的文件是保存在 /home/tr/download 这个路径下的 想要取回本地，可以和上一篇文章一样，安装 caddy ，或者也可以使用 FTP 的方法。 取回本地但是下载好后文件是在服务器里，我想把它取回到电脑或者手机。那么，开启一个 http 服务即可。这里推荐两个方案： 一、h5ai一行命令即可，最简单docker run -d -p 8055:80 -v /home/tr/download:/h5ai --name h5ai ilemonrain/h5ai:full -d 装好后在浏览器输入 ip:8085 就可以看到里面的内容 二、caddywget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/caddy_install.sh &amp;&amp; chmod +x caddy_install.sh &amp;&amp; bash caddy_install.sh 写入配置echo ":80 &#123; root /home/tr timeouts none gzip browse &#125;" &gt; /usr/local/caddy/Caddyfile 启动 caddy/etc/init.d/caddy start 开放服务器 80 端口ufw allow 80 完成后就可以在浏览器里，输入 IP地址 来访问下载好的文件了。如果是 MP4 文件的话，还可以支持在线播放。]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>docker</tag>
        <tag>BT</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[用服务器来离线下载 BT 种子，体验千兆网络的魅力——docker 安装 qBittorrent，以及把文件取回手机]]></title>
    <url>%2F2019%2F08%2Fdocker-qb%2F</url>
    <content type="text"><![CDATA[此教程并不难，只要你会复制粘贴即可。 🌟🌟🌟搭配视频： 用服务器来离线下载 BT 种子，体验千兆网络的魅力 利用免费CDN加速取回BT资源 要想进行下面的操作，需要有一个服务器，如果你没有的话， 点此链接注册充值 10 美元送 50 美元送的 50美元只有一个月的有效期。（所以不要省，开贵点的机器吧） 开始 使用这家的服务器，是因为它可以随时的删除，不像其它的，一买就得一年。而且，这家还可以选择自动安装 docker ，又节省了一些时间。 点击左边的 billing 充值方式支持 支付宝 微信（但最少 10 美元） 充值好后 ，点右边那个 + 的圆圈 然后选择服务器的地区（日本和新加坡会比较快，不过有可能连接不上，选美国也可以） Server Type点 application ，里面就有 docker Server Size 就是服务器的配置，越高就越贵。（如果有赠送的 50 美元，那就选那个 40 美元的吧，反正你不花，下个月也没了） 把下面的 Enable IPv6 前面的 框 打钩✅（可以使我们下载时连接到更多的用户） 然后点击右下角的 deploy now 等待几分钟……10.就可以看到服务器部署好了，给了一个 ip 地址。 安装 我们要控制这台服务器，需要用 ssh 工具，这里我用 putty 来演示。 如果用安卓手机的话，可以下载个 JuiceSSH 有能力的可以去 GitHub 下载：地址无法在 GitHub 下载的，可以到我的网盘里下载：地址（在『电脑软件』里） 下载后解压，打开 putty填上 IP 地址连接 接着输入用户名和密码。（密码输入时不会显示的） 连接后输入docker pull linuxserver/qbittorrent 完成后输入 docker create \ --name=qbittorrent \ -e PUID=1000 \ -e PGID=1000 \ -e TZ=Aisa/Shanghai \ -e UMASK_SET=022 \ -e WEBUI_PORT=8080 \ -p 8999:8999 \ -p 8999:8999/udp \ -p 8080:8080 \ -v /path/to/appdata/config:/config \ -v /path/to/downloads:/downloads \ --restart unless-stopped \ linuxserver/qbittorrent 创建好后再启动docker start qbittorrent 完成后就可以在浏览器里，输入 IP:8080 来访问 qB 了。 补充，还需要到设置里面，在【连接】中，将【监听端口】改为 8999 才行。如图 取回本地 我在后期还写了这篇文章：关于服务器资源取回本地的几种方法 有兴趣可以了解一下 但是下载好后文件是在服务器里，我想把它取回到电脑或者手机。那么，开启一个 http 服务即可。 这里安装一个 caddywget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/caddy_install.sh &amp;&amp; chmod +x caddy_install.sh &amp;&amp; bash caddy_install.sh 写入配置echo ":80 &#123; root /path/to/downloads timeouts none gzip browse &#125;" &gt; /usr/local/caddy/Caddyfile 启动 caddy/etc/init.d/caddy start 开放服务器 80 端口ufw allow 80 完成后就可以在浏览器里，输入 IP地址 来访问下载好的文件了。如果是 MP4 文件的话，还可以支持在线播放。 补充：看到有些人评论说用服务器下载会有风险，这个我也是知道的。因为国外的版权保护比较严格，所以有时会监控到你在下载 BT ，如果发现你下载的内容是盗版视频之类的，有可能会对你发出警告⚠️！ 但是，我说过我已经用了一年了，没有碰到过，所以才敢出这个教程。我认为可能和上传有关吧，不用上传太多应该就不太容易被查水表吧。所以我的分享率就设置为 2 而已。 就算你真的被警告了，一般也就是叫你把视频删了而已。如果再严重点，我大不了就把这台服务器删了，然后重新开一台。（就跟我们在网吧里一样，这也是用 vultr 的好处。） 而且，有的人问这个流量的问题，像视频中演示的，最便宜的套餐都有 1000G 流量，而且是上传 1000G，下载也 1000G ，正常使用一般是用不完的，只要设置一下这个分享率，按理是不会用超过的。 像我这一个月才用 200G …… 时隔几个月，我发现如今直接从服务器取回文件，速度有时非常的慢，所以我研究下有没有什么对策。暂时知道的有两个： 利用 cloudflare 这个免费的 CDN 来中转，提高下载速度，而且【在特殊时期，服务器被屏蔽时，也可以使用……低调低调】视频：https://www.bilibili.com/video/av84585591 利用国外网盘，将下载好的文件上传到网盘，之后再从网盘取回电脑。【这个步骤有点多，讲起来有点复杂，暂时没计划讲。】 暂时这些……]]></content>
      <tags>
        <tag>docker</tag>
        <tag>下载</tag>
        <tag>BT</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[推送到 kindle]]></title>
    <url>%2F2019%2F04%2Fpush-to-kindle%2F</url>
    <content type="text"><![CDATA[分别讲三种方法 手机端关注微信公众号：cn_Kindle绑定自己的亚马逊账号，即可把微信文章或者其它文章网址发送到这个号，即可把内容推送到 kindle 。 电脑端微信电脑版就不讲了。https://fivefilters.org/kindle-it/到这个网址将文章地址粘贴，然后点 preview ，出现预览界面，将其显示的邮箱（例如：kindle@fivefilters.org）添加到 已认可的发件人电子邮箱列表 然后填入自己的 kindle 邮箱点 send 。 多个网页一起推送上面的推送都是一次一篇文章的，如果想把多篇文章一起推送到 kindle 可以用这种方法。 浏览器插件 EpubPress这个插件 Chrome 和 Firefox 都有，安装后同时打开多篇文章，再点击这个插件，就可以把这些文章做成 mobi 格式的电子书，可以本地下载，也可以绑定 kindle 邮箱，直接发送到 kindle。]]></content>
  </entry>
  <entry>
    <title><![CDATA[Nginx下修改WordPress固定链接导致无法访问]]></title>
    <url>%2F2019%2F03%2FNginx-WordPress-link-error%2F</url>
    <content type="text"><![CDATA[内容来自：CSDN 先找到配置文件的位置，如我这里是/usr/local/nginx/conf/nginx.conf 用 vim 来修改，在server{} 字段 中的 “root /websit/wwwroot/;”(这行就是指定网站所在目录的) 这一行的下面 ，添加下面的内容：if (-f $request_filename/index.html)&#123;rewrite (.*) $1/index.html break;&#125;if (-f $request_filename/index.php)&#123;rewrite (.*) $1/index.php;&#125;if (!-f $request_filename)&#123;rewrite (.*) /index.php;&#125;rewrite /wp-admin$ $scheme://$host$uri/ permanent; 然后重启 Nginx ，如果和我一样是用 lnmp 的，可以输入lnmp nginx restart 之后就可以访问了文章了。]]></content>
      <tags>
        <tag>WordPress</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[禁止 mac 在U盘产生隐藏文件]]></title>
    <url>%2F2018%2F10%2Fmac-hide-file%2F</url>
    <content type="text"><![CDATA[自从 U 盘在 mac 上使用一段时间后，我发现里面有好多隐藏文件。每个都是 4KB。基本上 U 盘里每个文件，都有一个跟它对应的隐藏文件。看来是 Mac 自动生成的，但不知道是用来干什么的，而且平时也没什么影响，毕竟隐藏文件不管在 win 还是 Mac，默认情况下都是不显示的，所以也就没去管它。 直到，那天 U 盘插别人的电脑，居然被安全软件检测到这些隐藏文件，弹窗说有安全隐患…… 再接着，拿 U 盘去自助打印机，这一堆隐藏文件显示在那里，严重影响我查找要打印的文件的效率。这不能忍。 于是我百度一下，没有找到方法。再谷歌，就找到了。 是 Mac 上【聚焦搜索】（spotlight）这个软件造成的，这是一个全局搜索软件。应该是它为了能快速搜索到 U 盘里的文件，所以，当我们在 mac 上往 U 盘传文件的时候，同时会在文件旁边创建一个 4KB 的隐藏文件。 关闭方法打开【系统偏好设置】，第一行倒数第二个的【聚焦】，进去后点【隐私】，然后左下角的【+】，之后选中 U 盘，确认就好了。以后再往 U 盘写入文件就不会有这些隐藏文件了，之前产生的那些可以在 win 下将之删除。（Mac 下在访达里根本无法显示这些文件）]]></content>
      <tags>
        <tag>mac</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[解决 ireader 阅读器无法连接电脑问题]]></title>
    <url>%2F2018%2F10%2FSolve-the-problem-that-the-ireader-cannot-connect-to-the-computer%2F</url>
    <content type="text"><![CDATA[今晚把阅读器用 USB 连接电脑，想传些文件。发现连接后，资源管理器无法读到盘符。 由于平时我主要用 Mac 系统，无法用 usb 线与阅读器互传文件的，因此都是用 WIFI 传输。不过之前曾经在虚拟机里运行 XP 系统，可以与阅读器连接并且传输文件，因此硬件是没问题的。 现在 win10 状态下却无法连接，折腾一番后，没法，联系客服。在掌阅的微信公众号【掌阅iReader】里面，右下角，服务，人工服务。 一大段话确认我硬件和操作没有问题后，回复我： 若是您的电脑没有识别：请您这边电子书阅读器插上USB连接电脑后右击–我的电脑–属性–点击打开设备管理器截图提供这边帮您查看一下 当阅读器插入后这里面会多出一个设备【Android Phone】，展开它，里面是【Android ADB Interface】。右键，更新驱动。 重点来了 不要点【自动搜索……】，而是点下面的【浏览我的计算机以查找驱动程序软件】。 然后这时会有两个选项，选择下面那个带有【MTP】的，安装这个，然后就完了。资源管理器里可以识别到了。]]></content>
      <tags>
        <tag>设备</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo 换电脑方案]]></title>
    <url>%2F2018%2F09%2Fhexo-change-computer%2F</url>
    <content type="text"><![CDATA[hexo 搭建博客容易。但是搭建好后只能在这一台电脑上用，这就有点麻烦了。而且要是电脑坏了那且不是完了？所以备份以及恢复很重要。 （当然，windows 下能下载个便携版的 hexo 环境，(https://portablehexo.bitmoe.cn/) ，放在 U 盘里面，这样随便到哪里都可以用。这种这里不讨论。） 备份哪用 hexo 搭建博客好后，生成的静态网页是放在（public）这个文件夹里的。正常流程就是把这个文件夹里的内容发布到 github 或者自己的服务器上。而我们要备份的，不是这个，而是整个博客源码，就是（public）的上一层的这整个文件夹。 如何备份那么可以手动复制吗？额，有点难。因为小文件太多，接近一万个，复制要很久。而且文件经常变动，每次变动都再重新复制一份？不现实。 因此用 git 用管理是最好的方法。在博客项目根目录，比如我的博客源码放在 blog 这个文件夹里，那么就用命令行进入这个文件夹，git init 初始化这个项目，将它变成一个仓库，然后就可以把备份到网上了。 准备新环境比如说电脑坏了，或者换了新电脑。要怎么在新的新电脑上继续写博客呢？ 首先得先在新的电脑上安装好运行 hexo 的环境，比如 windows 就得先安装 node.js 和 git，然后再安装 hexo。等可以运行 hexo 并在浏览器显示了，再把刚才备份到网上的博客源码克隆下来。 克隆之后如果顺利的话，此时进入克隆下来的文件夹，再 npm install 一下，应该就可以用了。如果像我这样，发现可以启动，但是打开链接后什么都没显示。那么应该是主题缺失的原因。可以选择重新下载主题，或者在备份的时候把主题也备份到网络。可以参考这篇文章：修复 next 主题无法提交到 git 仓库]]></content>
      <tags>
        <tag>网络</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[文章中插入服务器的视频]]></title>
    <url>%2F2018%2F09%2Fadd-video-in-post%2F</url>
    <content type="text"><![CDATA[在博客上可以用嵌入的方式，引用优酷和 YouTube 的视频，那么可以播放放在网站（服务器）的视频吗？ 下面依然用这串代码&lt;iframe height=315 width=560 src='视频的相对路径' frameborder=0 allowfullscreen&gt;&lt;/iframe&gt; 在本地的启动 web 服务，然后在浏览器打开，视频可以播放。不错，手机端也可以正常访问。此时将网页和视频文件放置在 GitHub 上，同样可以播放。但是有个缺点，一打开就自动播放，不知道怎么关闭。 后来了解到用 video 标签的话，就可以设置它不自动播放，并且如果想让视频能够自动适应大小，只需要加上 div 标签就行。如下面这样&lt;div width="100%"&gt;&lt;video height="100%" width="100%" src="视频路径" controls="controls"&gt;&lt;/video&gt;&lt;/div&gt;]]></content>
      <tags>
        <tag>网络</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ireader阅读器与掌阅APP对比]]></title>
    <url>%2F2018%2F08%2Fireader-vs-APP%2F</url>
    <content type="text"><![CDATA[近日买了个 ireader light 青春版。是一款类似 kindle 的电子阅读器，不过性价比高，功能体验也比较好。所以综合了解后我选择了它。因为是掌阅出的，那么功能就和在手机下载个 掌阅APP 差不多。主要还是看中它的墨水屏，据说墨水屏看久不易伤眼睛。其它的也是有些不同的。 阅读器独有的 阅读器书城的图书价格和掌阅APP价格，总体价格保持一致。阅读器书城为回馈书友，每周会有特价书目，仅限阅读器书友享有。 无广告。这点其实不怎么值得提，因为手机有些定制版的也是无广告的。比如 OPPO vivo 这两个牌子的手机，自带的定制版的掌阅好像就是无广告的。而阅读器其实也就是一个定制版的掌阅APP，装在一个墨水屏平板里面罢了。况且我花了几百块买了这个只能阅读的机器，倘若得和手机免费下载一个APP一样，忍受着广告，这说得过去吗？ 传送资料。这个功能说是主打微信文章推送，就是可以把公众号文章，弄到阅读器里面来阅读。流程是先关注它的公众号，绑定手机，然后再来阅读器用手机号登录。之后看到文章，复制它的链接，发送给公众号，阅读器就能收到这条链接。可见只是把文章网址发过去罢了，因此其它链接应该也是可以的。我试了一些博客文章，有英文的和中文的，发现有时候图片会加载不出来，全英文排版也还可以，故没图片或者图片少的文章，推送到阅读器里面再来观看，体验还是不错的。然后知乎的回答也可以推送到此。这个功能体验几次后我还是挺喜欢的。 阅读时长奖励代金券。这个并非手机端同有的 『阅读30分钟奖励5代金券』，而是阅读器里『我的，福利，时长福利』，（手机端我找不到这个，所以应该是阅读器特权吧）。这个一个星期算一次，阅读不同时间领取不同代金券，888分钟为最高，达到的话，全部领取有几百代金券。 手机独有的（或者说阅读器还没有的） 读完写评论。手机端看完一本书，可以给它评星级和写评论，而阅读器看完了就只出现：全书完。因此在阅读器看完，我得回到手机，翻到最后一页，再点一下，出现写书评的界面再来写。不写过段时间都不知道这本书有没有看完…… 杂志往期。手机端打开一本杂志，右上角有个『往期』，这个非常方便，看完就能继续下载下一本。阅读器应该只能去书城里面搜索吧。 阅读器的系统是可以升级的，所以我觉得未来应该会有越来越多的功能加进来。不过现在有些功能只有手机有，阅读器没有，有些不太方便。其它的暂时对我好像没多大影响。]]></content>
      <tags>
        <tag>设备</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jekyll 与 hexo 的对比]]></title>
    <url>%2F2018%2F08%2Fjekyll-vs-hexo%2F</url>
    <content type="text"><![CDATA[jekyll 和 hexo 的差别呢，就是 jekyll 可以直接在 GitHub 上面写文章，而 hexo 则需要在电脑里面写好再上传上来。前面平台搭建的部分可以说是差不多的，搭建好同样传到 GitHub 上，jekyll 是把博客源码传上来，而 hexo 则是先在电脑里生成 html 的静态文件，再将这些传上来。 也因为这样，hexo 的备份会比较麻烦一点。而 jekyll 则可以说本来就自带备份（针对于像我这种使用 git pages 的人来说）。因为 jekyll 本身就是把整个博客都上传的。 不仅备份方便，编辑修改也方便，因为文件都在 GitHub 上，可以直接用浏览器登录 GitHub ，直接更改文章源文件就能修改博客文章，在上面新增 Markdown 文件就能往博客添加新文章。 但是呢，jekyll 不能像 hexo 一样使用命令行 hexo new &#39;title&#39; 来生成文章模板。因此用这个来写文章的话，就得自己打文章开头的那些设置，如这些 ---layout: posttitle: jekyll 与 hexo 的对比date: 2018-08-05 21:02:07tags:--- 因此这个感觉也算是劣势吧。当然复制粘贴上一篇文章的，然后修改一下也不会用太久的时间。但还是能自动生成方便啊。 因此在这上面写好像也没见得有多爽……]]></content>
      <tags>
        <tag>随笔</tag>
        <tag>网络</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[电脑拔网线一天体验]]></title>
    <url>%2F2018%2F08%2Fone-day-computer-no-network%2F</url>
    <content type="text"><![CDATA[13 号晚上的 23:30 左右，我拔掉了路由器 wan 口的网线，这样我电脑和手机都无法通过它来上网了。到现在已经 24 个小时了。 初衷本来想试试断网一天是什么体验的，因为我经常意识到，无缘无故一天就过去了，我好像什么都没干啊，好像浪费很多时间在网上闲逛。虽有时意识到会自制下，但效果不太明显。 但我有自知之明，不可能完全断网的，太难做到了。于是，我还可以用手机开数据上网。 那么这 24 小时左右，我干了什么呢？ 看了几集《老友记》，其实下载挺久的了，有时就看一两集这样，其实这一天好像就看了三集吧。虽然电脑里也有下载好的电影，不过没去看。 练练 Python，这个最近又接着开始学了，还是一头雾水。毕竟从图书馆借的这本书也不厚，还是坚持看并跟着练吧。 看 Rick West 的文章，其实我也不认识他，看别的博主说他是大神，并且推荐他的文章，于是就去看看，应该是英国人，一个 web developer。因为文章都是英文的，我把他一共接近 10 篇文章看完了，也就消去了不少的时间。 然后呢，也看阮一峰老师的博客，挺厉害的，从 2003 年写博客到现在，看他的文章还是有挺多东西学的。 接着就是日常的 知乎 和 v2ex 咯。 总结其实最终还是大部分时间都是在网上，只是从电脑转移到手机罢了。不过也是因为是在手机，能干的事并不多，所以才能看这么多的文章。要是在电脑上肯定不行，因为它能做的事太多了，容易在这事时张那事，导致能集中精力做一件事，因此效率也很低。 总之，还是一次挺不错的体验的。下次试试能不能完全断网体验一下。]]></content>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[修复 next 主题无法提交到 git 仓库]]></title>
    <url>%2F2018%2F08%2Fabout-git-cache%2F</url>
    <content type="text"><![CDATA[修复 git 仓库内，有另一个仓库，而产生冲突的问题。 用 hexo 来部署博客，只是把生成的静态网页给发布上去。但完整的备份是需要备份博客源码的，很多人会新建一个项目来放置博客源码。这样每次写好文章更新博客后，再把源码更新到远程仓库，例如 github 就行。完美备份。 但是，我发现我的 Next 主题下的文件全部无法上传，官方自带的主题就行。于是想到，当前这整个博客文件夹都是一个 git 仓库，而 next 主题是从 github 上克隆下来的，也是一个仓库，估计是会产生冲突。 于是，进入到 next 目录下，用命令行rm -rf .git 删除掉 .git 这个文件夹。这样应该就把这个仓库变成一个普通的文件夹了吧。于是再来把它添加到博客源码这个项目里吧git add . 结果不行，报错了，显示：fatal: in unpopulated subnodule 'themes/next' 看来不只是删除一个文件夹就行。好像还得再清除下，先返回上一级目录，cd .. 后就是在 themes 这个目录下咯，再执行git rm -r –cached /next 去掉已经托管的文件，然后提交即可。 此时再输入git add . 就可以了。之后再 commit，并成功同步到远程仓库。]]></content>
      <tags>
        <tag>网络</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[光之子 去年录制游戏全程]]></title>
    <url>%2F2018%2F08%2Fchild-of-light%2F</url>
    <content type="text"><![CDATA[这个游戏是去年这个时候录的，是我第一个全程录完的游戏。当时是在 PSV 上先玩一段，再到 PS4 上重玩这一段并录制下来的。 下面的视频是用这样的代码的。 &lt;iframe height=315 width=560 src='https://player.youku.com/embed/视频的ID在这里替换==' frameborder=0 allowfullscreen&gt;&lt;/iframe&gt; 01 02 03 04 05 06 07 08 09 10]]></content>
      <tags>
        <tag>游戏</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VPS离线下载文件最简易方案]]></title>
    <url>%2F2018%2F08%2Foffline-download%2F</url>
    <content type="text"><![CDATA[所使用的工具： Aria2 caddy AriaNg 脚本来自逗比根据地 首先安装 下载工具– Aria2wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/aria2.sh &amp;&amp; chmod +x aria2.sh &amp;&amp; bash aria2.sh 按 1 ，就可以安装。成功后会看到这样的显示。 由于我们用 ssh 登录 vps 后，默认是在 root 目录下。因此我想让下载位置也在这之下，方便以后用命令行删除文件。 因此需先创建文件夹 mkdir -p web/down 然后进入 Aria2 来需改下载位置和密码 ./aria2.sh 选择 7. 修改 配置文件 再选择 4. 修改 Aria2 密码+端口+文件下载位置 密码就个人按喜好改了(后面要用到)，端口就不改了，按回车键使用默认即可，下载位置就改为新的路径 /root/web/down 再次看到 ==Aria2 启动成功 ! == 这部分就完成了。 安装使用界面下载工具安装完成了，那要怎么用它呢？难道用命令行来下载文件？虽然确实可以，不过这有点…… 还是图形界面比较任性化，点点几下就行。 安装 web 服务器 caddywget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/caddy_install.sh &amp;&amp; chmod +x caddy_install.sh &amp;&amp; bash caddy_install.sh 写入配置到 Caddy 配置文件echo ":80 &#123; root /root/web timeouts none gzip browse&#125;" &gt; /usr/local/caddy/Caddyfile 下载 AriaNgcd web &amp;&amp; wget https://github.com/mayswind/AriaNg/releases/download/0.4.0/aria-ng-0.4.0.zip &amp;&amp; unzip aria-ng-0.4.0.zip 这里出错的话，可能是因为没有安装 unzip 这个应用，根据提示安装下即可。 启动 caddy/etc/init.d/caddy start 下载文件并取回本地这时候就可以用浏览器，通过 IP 或者域名来访问下载界面。需要设置一下。 第一个红圈可以填 IP 和域名，都行的。第二个红圈就是填刚才设置的密码了。 连接上会有左下角有绿色的已连接提醒。然后就可以下载文件了，也可以下载种子。 下载完就在我们的 vps 里面，那要怎么取回本地呢？只需要在浏览器地址栏里，在 IP 或者域名后面加上 /down 就行。例如 115.152.148.55/down 就会显示下载的那些文件。 这个方法呢，是我个人觉得比较简易的，比较适合我自己的。下载完就在命令行里用 rm -rf web/down/* 来删除所有的文件。 因此也就不去搞那些需要 PHP 的了。也因为下载完就删除，所以也没必要设置需要密码才能访问文件列表。]]></content>
      <categories>
        <category>服务器</category>
      </categories>
      <tags>
        <tag>服务器</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PSV存档管理器 savemgr 使用经验]]></title>
    <url>%2F2018%2F08%2Fsavemgr%2F</url>
    <content type="text"><![CDATA[savemgr，存档管理器，在 Github 上项目名称为：vita-savemgr项目地址：https://github.com/d3m3vilurr/vita-savemgr 作用：备份还原存档，分享存档给别人，使用他人存档。 使用方法：（#本文只讲v2.0正式版）那么首先下载这个安装包，之后在PSV上面打开安装。 https://github.com/d3m3vilurr/vita-savemgr/releases/download/2.0.0/savemgr.vpk 完成之后PSV桌面就有这个图标了。打开，选择一个游戏，然后出现四个选项。分别是 备份，恢复，删除，格式化。看字面意思很容易懂其作用。 比如我要备份空之轨迹sc这个游戏存档（游戏编号为 PCSH10060）。点击这个游戏，备份，选择一个位置，如第七个。之后存档就会备份到 ux0:data/savegames/PCSH10060/SLOT7 这里。把这个文件夹放在别的PSV的这个路径，别人再使用存档管理器恢复存档，即可以使用我们分享出来的存档。同理，我们也可以这样使用别人的存档。 问题：使用 savemgr 一备份就报错。 其实这才是我一开始要写的内容。因为用0.8版本，导致档案损坏，以至于我整个游戏重新安装。于是我就上网下载了个2.0汉化版，却出现 一备份就报错 的情况。关机重启也还是一样。 然后去 Github 下载7月1号更新的最新版本，还是一样。看看issue里面，也有人是这种情况，没法解决。但是发现了用原装2.0版本的话，安装好以后，机子重启一下就能正常使用了。备份恢复都可以。 吐槽：我网上查了很多，发现很少有人给官方的下载地址，github的直链，大多数都是给个百度云……感觉还是给像https://github.com/d3m3vilurr/vita-savemgr/releases/download/2.0.0/savemgr.vpk这样好吧，直接浏览器就能下载，而且不用怕链接失效。最重要的是，我能知道这个是从哪里来的。]]></content>
      <tags>
        <tag>游戏</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[分析网络兼职诈骗过程]]></title>
    <url>%2F2018%2F07%2Fanalysis-cheating-process%2F</url>
    <content type="text"><![CDATA[此类消息一般多见于 QQ 群，毕竟对于个人来说，这个应该算是最大的曝光率了。可见其宣传手段以 QQ 群为主。（后面我去加入，管理员的要求也印证了这一点） 从网络得知了一个 QQ 群号，我去加入。之后联系管理员了解工作。这时她的 QQ 性别一般都是女性，美女头像，20 多岁。（至于真假呢，呵呵。）然后她就会开始介绍工作，例如刷单、打字或者快递单录入，都会强调其简单、时间自由、收益不错等。之后问你要不要加入？回答要，然后就说需要帮她宣传，自然就是转发 QQ 群了。而我昨天的尝试，发现现在还得发空间说说和微信朋友圈了。 很不容易宣传完了，再联系她。这时就会说可以了，得去听一个老师的课，培训完才能工作。以前是 QT 语音和 YY 语音，现在可能这些不能用了吧，改成了第三方软件，估计是自己专门开发的。（应该是，我后来又去登录一次，这个软件连自己名称都不能改，只有那些‘老师’才能改你的名称。）注册好帐号之后，登录上去，等人差不多了，就开始讲了。先装模作样地介绍怎么工作，balabala 一堆之后。就开始要钱了，说需要花一百块左右买一个激活码，然后才能有一个工号，才可以接任务。然后就是各种游说。 这个时候，大多数人会在这放弃，但是此时想起之前转发这些也很不容易，甚至因为这个而被很多个 QQ 群踢了。此时放弃，岂不是前功尽弃了？或许有人就因此而选择了去交钱。而有的就还有些犹豫，于是去问之前那个介绍人。（例如我就去问，之前不是说不用交钱吗？）此时介绍人就会说，你放心啦，这个每个人都交的，我也交了，待会做几个任务就拿回来了。然后就发一些截图过来，证明她的话。这时就又增加了交钱的可能性。 那么，有人也许会想，交就交嘛，反正一会就拿回来了。然而，呵呵→_→。等交了钱，准备去完成那几个新手任务，这时这个老师就会让你去另一个老师那。来到新老师这，你以为可以开始了吗？不行的，接下来会说，你这是普通会员，只能接普通任务，要再交 298 成为钻石会员……又 balabala 之类，这时我相信大多数人会发现自己被骗了的。 但是，还是会有人想着，唉，前面都交钱了，这是放弃那钱不就打水漂了吗？所以还真有人又交了。这时据说就真的完成了，（只是据说，我并不清楚，好像也有继续要求交很多钱的。）可以接任务了。然后就准备大干一场吧。……过了不久，就会发现，一天耗费不少的精力，最后大概能赚个几块钱。又或者得经常去注册什么什么帐号，绑定银行卡身份证之类的。要把本钱赚回来基本不可能。 之后有人估计就算了，当作花钱买教训吧。而有的人呢，发现唯一能赚回本的方式，就是去拉人，据说拉人那人交的钱，有 70%能归拉人者，也就是客服。于是，一个新的客服就此诞生……]]></content>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[推荐一款手机写作软件——纯纯写作]]></title>
    <url>%2F2018%2F07%2Fpurewrite%2F</url>
    <content type="text"><![CDATA[我现在就是在使用这款软件写这篇文章。今晚本来是在 play 商店 看日记软件的。然后推荐那里出现了这款软件，看介绍和评价不错，就下载来试试。 这款软件是国人开发的，因此在国内的手机应用商店应该是可以下载到的，试了下小米的是搜索得到的。 推荐它的理由： 好看 无广告 自动备份，数据安全 安装包小，只有 2.7M 无后台偷运行担忧 对我来说很实用 主要是能帮我节省时间，比如在中英文之间插入空格，还有支持 markdown 语法，这也挺不错，比如能让我方便文章 markdown 化。还有首行缩进和段落之间自动加空格，这能让我少打了无数个空格。 总之，对这个软件真有种相见恨晚的感觉。 下面这些是官方对它的介绍 这是一个快速的纯文本编辑器，我们希望写作能够回到原本的样子：纯粹、有安全感、随时、绝对不丢失内容、具备良好的写作体验。 纯纯写作实现了在 Android 上完美的行间距和段间距，它能够使您的文本看起来更加舒适，清晰。同时，它还实现了顺滑滚动、下滑关闭输入法软键盘，以及许多喜人的细节内容。 蕴繁于简，您能够最快速度达到灵感页面，能够随时随地中断和继续写作，能够使用指纹加密您的文本，能够轻易、快速将文本分享发送到其他 App，这些我们都已经为您做好了。 最重要的，在使用这个编辑器时，它将会保证您的内容永远不会丢失，除非您主动将它清空。否则即使误操作将文本删除，或瞬间断电，您仍然能够从历史记录中将它恢复。 当您完成一篇文章写作之后，可以选择 右上角发送按钮 将它发送到另外的 App。]]></content>
      <categories>
        <category>手机</category>
      </categories>
      <tags>
        <tag>手机</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[搭建一个聊天室——rocket.chat]]></title>
    <url>%2F2018%2F07%2Frocket-chat%2F</url>
    <content type="text"><![CDATA[Rocket.Chat 是一款开源软件。项目地址：https://github.com/RocketChat/Rocket.Chat 安装我是在 Ubuntu 18.04 纯净系统下使用的用 snap 安装 snap install rocketchat-server 联结 caddysudo rocketchat-server.initcaddy 编辑 Caddyfile 文件 nano /var/snap/rocketchat-server/current/Caddyfile 将 http://:8080 为你的网站,如 powersee.tk http://powersee.tkproxy / localhost:3000 &#123; websocket transparent&#125; 再重启 sudo systemctl restart snap.rocketchat-server.rocketchat-caddy 那么此时访问网址就能进入聊天室了 因为此处用 SSL 的话，我试了好多次，只能搞自签证书，而这样在手机客户端又没办法连接，因此不演示。 配置第一次进入注册的账号会成为管理账号。进入后是英文的，可以设置为中文。点击导航栏的三个点，进入管理界面 然后在里面可以找到设置语言的地方 手机端登录第一次进入会出现这个界面(让你输入网址)因为我没有使用 SSL，因此得点那个倒三角，选择 http:// 然后再输入网址，如我的 powersee.tk再用账号密码登录即可。同个账号在多平台是可以同时在线的。 手机客户端下载去 play 商店 下载GitHub下载:下载 armv7 版本的到手机安装，x86版本的则到平板。https://github.com/RocketChat/Rocket.Chat.Cordova/releases/总体而言，还是挺有趣的。]]></content>
      <tags>
        <tag>服务器</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[利用lnmp搭建wordpress]]></title>
    <url>%2F2018%2F06%2Finstall-wordpress-with-lnmp%2F</url>
    <content type="text"><![CDATA[#发现1.5正式版更新了，我自己也试了，所以现在把原来命令行里的 1.4 全部都换成 1.5 了 一，安装lnmp(Nginx/MySQL/PHP)环境 wget http://soft2.vpser.net/lnmp/lnmp1.5-full.tar.gz tar -zxvf lnmp1.5-full.tar.gz cd lnmp1.5-full ./install.sh 一路默认，虚拟机一个小时应该能安装好 之后就可以访问IP了 默认的访问目录为这个 /home/wwwroot/default 二，安装wordpress此时进入默认的访问目录的上一级 cd /home/wwwroot/ wget https://cn.wordpress.org/wordpress-4.9.4-zh_CN.tar.gz tar -zxvf wordpress-4.9.4-zh_CN.tar.gz mv default old mv wordpress default 此时应该就可以访问wordpress了 三，创建数据库 mysql -u root -p 输入密码，默认的话就是root create database wordpress; exit 四，给权限 chown -R 755 /home/wwwroot/ chown -R www:www /home/wwwroot/ 此时输入IP即可访问配置 wordpress]]></content>
      <tags>
        <tag>服务器</tag>
        <tag>WordPress</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[希望博客能坚持下去]]></title>
    <url>%2F2018%2F06%2Fabout-blog%2F</url>
    <content type="text"><![CDATA[今天是 18 号了，上个月的 20 号是我第一次在 vps 成功建立了 WordPress。现在已经有二十多篇文章了。（虽然有些只是我做的一些简单的笔记而已）。因为我在网站添加了个日历小工具，只有当天有写文章，那天在日历上才会点亮，所以有时就不得不找些来写了。这篇也许也算吧。 这段时间确实耗费了非常多非常多的时间在这上面，没想到这东西还能玩上瘾。想想当初买 vps 主要是用来搭梯子的。这个很容易，接着就去了解 Linux，逐渐地了解了一些常用的命令的多种用法，以及其这样命名的缘由。还记得前不久好像是在知乎上看到有人推荐一本 Linux 的书《 Linux 入门很简单》，于是我在图书馆的公众号查了一下，发现居然有，就去借来看。由于其写得很通俗易懂，看得挺投入的，几天就看完了。从中学到了很多，非常感谢这本书。 之后我还去研究 Python，毕竟这是现在最热门的语言，而且都已经加入高考了，想想以后后辈们都多少会点 Python，自己一点都不了解怎么行。再之后又去研究 Android 开发，想想自己能做一个 APP，这是一件多么值得吹的事。但，终究还是因为它们太难了……然后就没有然后了。 于是我又回来折腾 Linux 了，毕竟有两台 vps 了，而且前阵子还看到 vultr 有活动，搞了一个帐号，现在一般情况下至少有三台运行着。于是我必须找着事来折腾。一开始就对 WordPress 展开研究，备份、迁移、优化、加证书等等，还有插件、主题这些，也就耗费了挺多时间。 之后就来研究 vps 可以干哪些有趣的事。 用来搭建多个网站，只用一台 vps 用来作为同步盘，同步手机文件和电脑文件 用来搭建网盘，可以放文件，也可以分享给别人，不限速 用来搭建一个论坛，人人都可以注册，可以发帖讨论 用来当下载工具，一些用迅雷下载不动的资源，放在 vps 可以下载得动 用来搭建一个聊天工具，使用与他人不同的聊天方式 因为老是研究这些，通过搜索我发现了很多博客网站，好的我都添加到书签和 rss 订阅了。很多个网站我都把他们的全部文章都过一篇了，也收获了很多。然后发现他们喜欢的一些东西，我希望自己不要像他们那样。比如喜欢老是折腾网站的速度，快了那么零点几秒就很高兴，这点我很不能理解，我自己的网页我两三秒能打开就行了。还有折腾 SEO 的，看那么多的文章写到这，我也有点想去搞搞，最后还是算了。我还是少折腾这些吧，不去重视这些，这样我域名被墙了，那就换一个呗，vps 都被墙了，那就在电脑的虚拟机里运行呗。不在乎这些，省点心思做些有意义的事好。 接下来的想法是有些视频里需要的文章，我可以把它放 Github 的博客里，然后双份链接，保险。域名、流量、被搜索引擎收录这些，现在真心不想去搞，希望以后也不去搞，就单纯的因为想做这些事而去做就好。]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[路由器的端口映射和内网穿透]]></title>
    <url>%2F2018%2F06%2Fabout-router%2F</url>
    <content type="text"><![CDATA[如果我的路由器的管理地址为 192.168.1.1 如果我开放外网访问，当在外网输入我的公网IP，那么默认是访问 公网IP:80 然后进入路由器的管理界面 192.168.1.1 端口映射 端口映射，可以设置不同的端口来访问路由器内不同的设备。例如我的电脑连接路由器，然后分配的IP是192.168.1.2，此时我可以通过设置一个端口（8888）来映射到电脑，设置完成后输入公网IP:8888 访问的就是电脑了而不是路由器。通过这种方法,可以让电脑开启web服务，然后从外网访问。此处必须输入外网ip来访问，通过内网像 192.168.1.1:8888 这样是没用的。 内网穿透 当然上面的那样明显只适合有公网IP的情况，像我的话就没有公网IP。所以外网访问内网就需要内网穿透了，这里使用 ngrok 和老毛子固件。 我使用的路由器固件为恩山的hiboyhiboy大神的固件，路由器为斐讯K2。 打开路由器的ngrok穿透界面，去 Server.ngrok.cc 注册帐号，然后得到一个 token 码，复制它，之后开通隧道，可以选择免费的。设置域名前缀，如123，那么最后你的域名就是 123.free.ngrok.cc 之后设置一个端口，用默认的4443也可以。 开通隧道完成后，再回到路由器这里，然后把信息填进去， 之后再把启动 【ngrok 内网穿透】的的开关打开，再应用本页面设置，此时通过访问域名 如上面的123.free.ngrok.cc 应该就可以进入路由器管理界面了。]]></content>
      <tags>
        <tag>服务器</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[克隆 WordPress 网站]]></title>
    <url>%2F2018%2F06%2Fclone-WordPress%2F</url>
    <content type="text"><![CDATA[我现在的网站是放在美国的一个 vps 里的，之前一直想要怎么备份，万一这台服务器被墙了（毕竟真的发生过），或者将来换服务器了，那我怎么转移。当时找了好多方法。 一 自带的导出导入这是最简单的了，WordPress 本身就有这功能。登录后台，工具，就有导入和导出。把旧的导出，然后在一台新的服务器上导入，这样所有的文章就都过去了。确实方便，然而，只能导出文章，主题、插件是没法的。 二 All-in-One WP Migration这是一个插件，在添加插件里搜索就能找到。安装后会出现在后台面板的左侧。点导出，会生成一个文件，可以下载。然后在一台新的服务器也安装这个插件，就能导入刚才下载的这个文件，这样就能把整个网站完整的克隆。这样也可以当做备份，不过免费版最多只能备份 500M 的网站，而且只能备份到本地。 三 UpdraftPlus在添加插件里搜索 back 排第一的就是它。支持定时备份，既可以备份在本地，也可以备份在网盘、邮箱、FTP 这些，而且还是免费的。果然厉害，于是我设置它每天备份到 Dropbox ，只保留两份备份，这样就不会一下子就把网盘给塞满了。 缺点：不能像上面那个插件那样，克隆网站，它只是支持数据丢失后的恢复。如果要实现网站克隆，需要花钱购买它的专业版。 四 免费让 UpdraftPlus 支持网站克隆这是我无意发现的。那天是在查让 WordPress 绑定多个域名。 在 WordPress 程序根目录 wp-config.php 文件中加上下面代码 define('WP_SITEURL', 'http://' . $_SERVER['HTTP_HOST']);define('WP_HOME', 'http://' . $_SERVER['HTTP_HOST']); 这样只要是解析进来的域名都可以打开且不会看到串联到其他域名 这样修改后再就可以用 UpdraftPlus 来克隆网站了 我只是想多备份而已，不然这么久的努力忽然消失了，岂不是很心疼。]]></content>
      <tags>
        <tag>WordPress</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[更改hosts文件]]></title>
    <url>%2F2018%2F06%2Fchange-hosts%2F</url>
    <content type="text"><![CDATA[原理：我们上网的时候,输入网址,浏览器先检查 hosts 文件中是否有对应的IP地址,如果没有,就连接到DNS服务器,查找这个网址对应的 IP 地址。 我联想到域名绑定IP后是提交到DNS服务器的，那么按理说我去弄一个域名，比如：sb.com 然后将解析到我局域网的IP，比如：192.168.1.8 ，那么我在局域网中就不用输入那么长的IP地址了。哈哈，不过这显然很麻烦，而且也有点浪费，一个域名居然只用在局域网中。 于是就想到之前的更改 hosts 文件来访问一些被墙的网站，还有来屏蔽一些网站。于是通过此，我就把 39.io 给解析到 192.168.1.39 ，因为我平时还是挺常开虚拟机的，所以只是IP最后这个不同而已 ，例如其它的为 192.168.1.88 ，那么我也可以把它绑定为 88.io 这样，我通过这个短网址就能访问虚拟机了，而不用去输入那一大串的IP。]]></content>
      <categories>
        <category>服务器</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[我的相册备份方案]]></title>
    <url>%2F2018%2F06%2Fphotos-backup%2F</url>
    <content type="text"><![CDATA[由于之前小米所提供的5G云空间提示我说不够了，要充钱买更大的空间。这怎么可能，想让我花钱去买空间，呵呵。 于是我寻找备份相册的方案。 1 百度云因为空间不足，那么想到的就是百度云2T的大空间。（至于说隐私问题，觉得百度云不安全之类的，我一直觉得很奇怪，难道你们相册里面都是一堆自己的裸照？反正我的话涉及隐私也就自拍的照片而已，也没什么见不得人的。） 用手机APP里面就有图片备份功能，设置要备份的相册文件夹就行了。在有WIFI的环境下就会备份到网盘。 缺点：只能自动备份，无法自动恢复，比如我换了新手机，它无法自动将相片恢复到新的手机。 还有，备份后是在网盘根目录有一个 来自:MI MAX2 这里就是我这台小米max2备份的数据了，不能自定义路径。。。所以我的解决方法是，把这个文件夹重命名，在前面加个符号，如逗号，然后就可以把这个文件夹移动到隐藏空间。保险一点。 2 谷歌相册以高质量的方式备份照片和视频可以无限空间。在手机上基本看不出压缩前后的差别。通过此我把相册都备份到Google，即使把本地照片删除了还可以通过这APP来查看，点击时会通过联网加载图片。 那如果我换新手机了，想把照片都下载到新手机里面，这个就有点复杂，首先得在Google photos里面开启 Google 云端硬盘 ，这样备份的图片才会显示在Google drive里面，然后可以在Google drive的网页或者客户端把图片下载下来，再传入手机，还是挺麻烦的。 当然啦，这一切都建立在能科学上网的基础之上。所以我仅是把它当多一份备份而已。 3 Handshaker锤子开发的一款电脑端管理安卓手机的工具，平时我也用它在电脑与手机间传输文件，还是挺方便的。在它的设置里，可以设置自动同步，这样每次连接后就会自动同步所有照片到电脑，如果换新手机，可以在这个软件把电脑里的照片复制到新手机。比较不错。 缺点：同步到电脑的相册无法选择，所有的照片都会同步。（不过电脑复制到手机就可以选择哪些相册要哪些不要） mac版的无法像win版那样选择文件存储路劲，所以我只用win版来备份。 4 Syncthing这关联到我之前的 搭建个人网盘——syncthing 这篇文章。通过此把要备份的相册文件夹备份到其它设备，可以是电脑、另一台手机、电脑上的虚拟机、远程vps，这些都可以，只要两台设备同时在线就能自动备份。那么我vps的 syncthing 一直开着，这样当我需要备份时就打开手机的APP，扫描一下就能同步。 假如我手机丢了，那么此时我的vps或者电脑里还有保存这些，我可以在新手机也安装syncthing来把vps或者电脑里的照片同步到新手机里面。 5 小米云服务其实我发现我手机里的照片加视频也就2G而已，小米提供的5G我是够用的，之前说空间不足是因为它默认开启了桌面云备份，会把我手机的app都备份上传云端，用了接近1G，所以把它删了，还是可以放很多照片的。然后如果换手机了，依然是MIUI的话直接登录小米账号同步相册就行。如果是其它手机，可以电脑下载小米云服务，把照片下载到本地，在传入新手机。 总结平时的话我同步功能都是关闭的，不想随便截张图，保存张照片就自动同步到云端，我会每隔一段时间就清理相册，清理完成再打开同步，同步完就又关闭。感觉现在照片空间还不算多，用小米云优先。但毕竟这段时间研究了挺久这个相片备份问题的，就记录一下吧。]]></content>
      <categories>
        <category>手机</category>
      </categories>
      <tags>
        <tag>手机</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[在mac把系统固件写入U盘]]></title>
    <url>%2F2018%2F06%2FWrite-system-firmware-to-u-disk-on-MAC%2F</url>
    <content type="text"><![CDATA[苹果官方文章:如何创建可引导的 macOS 安装器 最终我执行的是这一段命令 sudo /Volumes/Install\ macOS\ High\ Sierra/Install\ macOS\ High\ Sierra.app/Contents/Resources/createinstallmedia --volume /Volumes/installMacOS --applicationpath /Volumes/Install\ macOS\ High\ Sierra/Install\ macOS\ High\ Sierra.app --nointeraction 分析：（以下内容是在双击固件，将其挂载，在桌面看得到其快捷方式下进行的） 一，这一段为固件的位置（前面到.app这一段可以通过双击打开桌面的固件，然后将里面的安装程序拖进来，而来得到地址） /Volumes/Install\macOS\High\Sierra/Install\macOS\High\Sierra.app/Contents/Resources/createinstallmedia 二，这一段为写入的地址，即此时我命名为 installMacOS 的U盘 /Volumes/installMacOS 三，这又为固件地址 /Volumes/Install\ macOS\ High\ Sierra/Install\ macOS\ High\ Sierra.app 写入完成后会出现 done ，估计十几分钟，耐心等待即可。]]></content>
      <categories>
        <category>mac</category>
      </categories>
      <tags>
        <tag>mac</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[搭建个人网盘——syncthing]]></title>
    <url>%2F2018%2F05%2Fsyncthing%2F</url>
    <content type="text"><![CDATA[一 下载到其官网下载对应的客户端：官网链接 例如我下载Android版和Ubuntu版 Ubuntu版链接：点我安卓安装就不用说了，Ubuntu则根据其页面的这段命令输入就行。\# Add the release PGP keys:curl -s https://syncthing.net/release-key.txt | sudo apt-key add -\# Add the "stable" channel to your APT sources:echo "deb https://apt.syncthing.net/ syncthing stable" | sudo tee /etc/apt/sources.list.d/syncthing.list\# Update and install syncthing:sudo apt-get updatesudo apt-get install syncthing 二 运行此时在Ubuntu终端输入命令：syncthing 来运行它 等待看到GUI and API listening on 127.0.0.1:8384同时按ctrl 和 C 来取消命令 运行此命令的目的时为了生成配文件 三 修改此时我们即可修改配文件vim ~/.config/syncthing/config.xml然后找到 127.0.0.1:8384 将之改为 0.0.0.0:8384更改方法为找到此处 按键盘的 i 便可以修改，改完按 Esc 退出编辑状态，输入 :wq (保存并退出的意思) 四 配置这时就可以输入IP:8384 (例如 192.168.123.184:8384 )进入管理页面了 我们可以设置账号密码，以免随便他人登录这个界面 点击右上角的 操作 显示ID 将会出现一张二维码，用手机扫描这即可添加关联 然后设置想要同步的文件夹，当两个客户端都运行时就会自动同步 完]]></content>
      <categories>
        <category>服务器</category>
      </categories>
      <tags>
        <tag>服务器</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[让一个服务器拥有多个网站]]></title>
    <url>%2F2018%2F05%2FMultiple-websites-in-one-server%2F</url>
    <content type="text"><![CDATA[可以在一台机器上放置多个网站，若是静态网站的话，理论上可以放置无限多个。 本操作基于Ubuntu我的nginx访问的根目录/home/wwwroot/default 创建一个”vhost”目录sudo mkdir /usr/local/nginx/conf/vhost 创建siteA的配置文件sudo vi /usr/local/nginx/conf/vhost/vhost_siteA.conf server { listen 80; # 监听端口 server_name www.siteA.com siteA.com; # 站点域名 root /home/wwwroot/default; # 站点根目录 index index.html index.htm index.php; # 默认导航页 location / { # WordPress固定链接URL重写 if (!-e $request_filename) { rewrite (.*) /index.php; } } # PHP配置 location ~ \.php$ { fastcgi_pass unix:/var/run/php5-fpm.sock; fastcgi_index index.php; include fastcgi_params; } } 创建siteB的配置文件sudo vi /etc/nginx/vhost/vhost_siteB.conf server { listen 80; # 监听端口 server_name www.siteA.com siteA.com; # 站点域名 root /home/wwwroot/old; # 站点根目录 index index.html index.htm index.php; # 默认导航页 location / { # WordPress固定链接URL重写 if (!-e $request_filename) { rewrite (.*) /index.php; } } # PHP配置 location ~ \.php$ { fastcgi_pass unix:/var/run/php5-fpm.sock; fastcgi_index index.php; include fastcgi_params; } } 修改nginx.confsudo vi /usr/local/nginx/conf/nginx.conf 在http里加入这段include /usr/local/nginx/conf/vhost/*.conf; 重启 nginx 即可。]]></content>
      <tags>
        <tag>服务器</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[用Python创建HTTP服务]]></title>
    <url>%2F2018%2F05%2FPython-HTTP-server%2F</url>
    <content type="text"><![CDATA[一般的Linux都带有python 有时我们想要把文件，通过网页的方式来共享，但是又不想去搭建像 Nginx 或者 caddy 这样的 web 服务器，此时用 Python 一行命令即可解决。 通过命令进入所要共享的文件夹 输入这个命令python -m SimpleHTTPServer 80 后面的80为端口，这种适合没有搭建其它web服务的 如果是 Python3 的话，是用这个 python -m http.server 这时我后面并没有加端口，默认会使用 8000 端口 若已经有搭建类似 nginx 的服务 可以通过修改端口数字，例如改为88，或者不输入端口，则会默认采用8000端口 此时输入 IP:8000 或者 域名:8000 即可访问当前目录下的文件，如果有 index.html 则会默认加载。 然后想要停止时，按CTRL + C 取消。]]></content>
      <categories>
        <category>服务器</category>
      </categories>
      <tags>
        <tag>服务器</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[33块购买一年的服务器]]></title>
    <url>%2F2018%2F05%2Fbuy-one-year-vps%2F</url>
    <content type="text"><![CDATA[我录制了个视频：视频教程 首先去服务器网站注册： 活动网址 只要填邮箱和密码就能注册 可能需要的优惠码 promo25b 此赠送25$活动支持信用卡和PayPal但 不支持支付宝 同时关注它的twitter和转发一次能得到3美元：twitter任务链接]]></content>
      <tags>
        <tag>服务器</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[今天是520]]></title>
    <url>%2F2018%2F05%2Ftoday-is-520%2F</url>
    <content type="text"><![CDATA[昨晚成功弄好了企业邮箱，这样以后就拥有了带自己域名的邮箱，而且随意注册，哈哈 下午成功的弄好了之前弄了好多次都没弄好的个人 wordpress 网站，虽然有点久，不过总算弄好了。 然而现在我是把文章都复制一份到 hexo 这里来了。时隔不到两个月。已经折腾了许多。]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
</search>
